import{c as e,u as s,H as t,j as a,d as i,e as r,J as n,K as l,M as c,N as d,O as o,W as m,Q as u,S as h,U as x,X as j,Y as f,Z as p,_ as g}from"./radix-ui-C_30fW44.js";import{r as v,u as y}from"./react-vendor-BPKX_lDx.js";import{c as b,l as _,m as N,s as w,U as S,j as k,P as C,C as D,a as F,b as q,d as A,M as E,B as I,u as P,t as R,e as M,S as $,T as U,g as T,L as z}from"./index-ZrmUALcR.js";import{I as L}from"./input-B4xn1GWc.js";import{L as O}from"./label-BNgmef9v.js";import{T as V}from"./textarea-DWvDu1as.js";import{B}from"./badge-DVt49irY.js";import{S as H,a as Y,b as G,c as J,d as W}from"./select-BgFOHVXi.js";import{A as Q,a as X,b as Z}from"./avatar-DlUzrqvh.js";import{D as K,a as ee,b as se,c as te}from"./dialog-Dz8Dn_er.js";import{S as ae}from"./separator-D9fHV2QS.js";import{C as ie}from"./circle-check-big-CNqgtd50.js";import{C as re}from"./clock-CkwknNyX.js";import{G as ne}from"./graduation-cap-C7YPIDn9.js";import{L as le}from"./linkedin-z-wUVEBZ.js";import{C as ce}from"./calendar-Dtp-binz.js";import{F as de}from"./file-text-B93kSNl_.js";import{a as oe,U as me,E as ue}from"./upload-Bhq4sjmX.js";import{L as he}from"./loader-circle-B1a5cOLH.js";import{P as xe}from"./plus-B8NOdOUw.js";import{I as je}from"./image-DTi4bqlI.js";import{S as fe}from"./shield-BFMMCKXL.js";import{U as pe}from"./users-DjGvqPV5.js";import{C as ge,S as ve}from"./smartphone-BwJP2nLU.js";import"./supabase-bi29EmR8.js";import"./utils-DDMI54vX.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=b("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),be=b("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),_e=b("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),Ne=b("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),we=b("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Se=b("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),ke=b("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ce="Switch",[De,Fe]=e(Ce),[qe,Ae]=De(Ce),Ee=v.forwardRef((e,n)=>{const{__scopeSwitch:l,name:c,checked:d,defaultChecked:o,required:m,disabled:u,value:h="on",onCheckedChange:x,form:j,...f}=e,[p,g]=v.useState(null),y=s(n,e=>g(e)),b=v.useRef(!1),_=!p||(j||!!p.closest("form")),[N=!1,w]=t({prop:d,defaultProp:o,onChange:x});return a.jsxs(qe,{scope:l,checked:N,disabled:u,children:[a.jsx(i.button,{type:"button",role:"switch","aria-checked":N,"aria-required":m,"data-state":Me(N),"data-disabled":u?"":void 0,disabled:u,value:h,...f,ref:y,onClick:r(e.onClick,e=>{w(e=>!e),_&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),_&&a.jsx(Re,{control:p,bubbles:!b.current,name:c,value:h,checked:N,required:m,disabled:u,form:j,style:{transform:"translateX(-100%)"}})]})});Ee.displayName=Ce;var Ie="SwitchThumb",Pe=v.forwardRef((e,s)=>{const{__scopeSwitch:t,...r}=e,n=Ae(Ie,t);return a.jsx(i.span,{"data-state":Me(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:s})});Pe.displayName=Ie;var Re=e=>{const{control:s,checked:t,bubbles:i=!0,...r}=e,c=v.useRef(null),d=n(t),o=l(s);return v.useEffect(()=>{const e=c.current,s=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(s,"checked").set;if(d!==t&&a){const s=new Event("click",{bubbles:i});a.call(e,t),e.dispatchEvent(s)}},[d,t,i]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...r,tabIndex:-1,ref:c,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Me(e){return e?"checked":"unchecked"}var $e=Ee,Ue=Pe;const Te=v.forwardRef(({className:e,...s},t)=>a.jsx($e,{className:_("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:t,children:a.jsx(Ue,{className:_("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Te.displayName=$e.displayName;const ze=v.forwardRef(({className:e,...s},t)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:t,className:_("w-full caption-bottom text-sm",e),...s})}));ze.displayName="Table";const Le=v.forwardRef(({className:e,...s},t)=>a.jsx("thead",{ref:t,className:_("[&_tr]:border-b",e),...s}));Le.displayName="TableHeader";const Oe=v.forwardRef(({className:e,...s},t)=>a.jsx("tbody",{ref:t,className:_("[&_tr:last-child]:border-0",e),...s}));Oe.displayName="TableBody";v.forwardRef(({className:e,...s},t)=>a.jsx("tfoot",{ref:t,className:_("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";const Ve=v.forwardRef(({className:e,...s},t)=>a.jsx("tr",{ref:t,className:_("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));Ve.displayName="TableRow";const Be=v.forwardRef(({className:e,...s},t)=>a.jsx("th",{ref:t,className:_("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));Be.displayName="TableHead";const He=v.forwardRef(({className:e,...s},t)=>a.jsx("td",{ref:t,className:_("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));He.displayName="TableCell";v.forwardRef(({className:e,...s},t)=>a.jsx("caption",{ref:t,className:_("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption";var Ye="AlertDialog",[Ge,Je]=e(Ye,[c]),We=c(),Qe=e=>{const{__scopeAlertDialog:s,...t}=e,i=We(s);return a.jsx(p,{...i,...t,modal:!0})};Qe.displayName=Ye;var Xe=v.forwardRef((e,s)=>{const{__scopeAlertDialog:t,...i}=e,r=We(t);return a.jsx(d,{...r,...i,ref:s})});Xe.displayName="AlertDialogTrigger";var Ze=e=>{const{__scopeAlertDialog:s,...t}=e,i=We(s);return a.jsx(g,{...i,...t})};Ze.displayName="AlertDialogPortal";var Ke=v.forwardRef((e,s)=>{const{__scopeAlertDialog:t,...i}=e,r=We(t);return a.jsx(o,{...r,...i,ref:s})});Ke.displayName="AlertDialogOverlay";var es="AlertDialogContent",[ss,ts]=Ge(es),as=v.forwardRef((e,t)=>{const{__scopeAlertDialog:i,children:n,...l}=e,c=We(i),d=v.useRef(null),o=s(t,d),x=v.useRef(null);return a.jsx(m,{contentName:es,titleName:is,docsSlug:"alert-dialog",children:a.jsx(ss,{scope:i,cancelRef:x,children:a.jsxs(u,{role:"alertdialog",...c,...l,ref:o,onOpenAutoFocus:r(l.onOpenAutoFocus,e=>{var s;e.preventDefault(),null==(s=x.current)||s.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[a.jsx(h,{children:n}),a.jsx(ms,{contentRef:d})]})})})});as.displayName=es;var is="AlertDialogTitle",rs=v.forwardRef((e,s)=>{const{__scopeAlertDialog:t,...i}=e,r=We(t);return a.jsx(x,{...r,...i,ref:s})});rs.displayName=is;var ns="AlertDialogDescription",ls=v.forwardRef((e,s)=>{const{__scopeAlertDialog:t,...i}=e,r=We(t);return a.jsx(j,{...r,...i,ref:s})});ls.displayName=ns;var cs=v.forwardRef((e,s)=>{const{__scopeAlertDialog:t,...i}=e,r=We(t);return a.jsx(f,{...r,...i,ref:s})});cs.displayName="AlertDialogAction";var ds="AlertDialogCancel",os=v.forwardRef((e,t)=>{const{__scopeAlertDialog:i,...r}=e,{cancelRef:n}=ts(ds,i),l=We(i),c=s(t,n);return a.jsx(f,{...l,...r,ref:c})});os.displayName=ds;var ms=({contentRef:e})=>{const s=`\`${es}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${es}\` by passing a \`${ns}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${es}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var s;document.getElementById(null==(s=e.current)?void 0:s.getAttribute("aria-describedby"))},[s,e]),null},us=Ke,hs=as,xs=cs,js=os,fs=rs,ps=ls;const gs=Qe,vs=Xe,ys=Ze,bs=v.forwardRef(({className:e,...s},t)=>a.jsx(us,{className:_("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:t}));bs.displayName=us.displayName;const _s=v.forwardRef(({className:e,...s},t)=>a.jsxs(ys,{children:[a.jsx(bs,{}),a.jsx(hs,{ref:t,className:_("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s})]}));_s.displayName=hs.displayName;const Ns=({className:e,...s})=>a.jsx("div",{className:_("flex flex-col space-y-2 text-center sm:text-left",e),...s});Ns.displayName="AlertDialogHeader";const ws=({className:e,...s})=>a.jsx("div",{className:_("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});ws.displayName="AlertDialogFooter";const Ss=v.forwardRef(({className:e,...s},t)=>a.jsx(fs,{ref:t,className:_("text-lg font-semibold",e),...s}));Ss.displayName=fs.displayName;const ks=v.forwardRef(({className:e,...s},t)=>a.jsx(ps,{ref:t,className:_("text-sm text-muted-foreground",e),...s}));ks.displayName=ps.displayName;const Cs=v.forwardRef(({className:e,...s},t)=>a.jsx(xs,{ref:t,className:_(N(),e),...s}));Cs.displayName=xs.displayName;const Ds=v.forwardRef(({className:e,...s},t)=>a.jsx(js,{ref:t,className:_(N({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));function Fs({studentId:e,open:s,onClose:t}){const[i,r]=v.useState(null),[n,l]=v.useState(!1);v.useEffect(()=>{e&&s&&c()},[e,s]);const c=async()=>{if(e){l(!0);try{const{data:s,error:t}=await w.from("profiles").select("*").eq("id",e).single();s&&!t&&r(s)}catch(s){}finally{l(!1)}}};return i||n?a.jsx(K,{open:s,onOpenChange:t,children:a.jsxs(ee,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(se,{children:a.jsxs(te,{className:"flex items-center gap-2",children:[a.jsx(S,{className:"w-5 h-5"}),"Student Profile Details"]})}),n?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx("div",{className:"flex-shrink-0",children:i.profile_image_url?a.jsx("img",{src:i.profile_image_url,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-border"}):a.jsx("div",{className:"w-24 h-24 rounded-full bg-muted flex items-center justify-center",children:a.jsx(S,{className:"w-12 h-12 text-muted-foreground"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold",children:[i.first_name," ",i.last_name]}),a.jsx(B,{variant:i.is_verified?"default":"secondary",children:i.is_verified?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-3 h-3 mr-1"}),"Verified"]}):a.jsxs(a.Fragment,{children:[a.jsx(re,{className:"w-3 h-3 mr-1"}),"Pending"]})})]}),a.jsxs("div",{className:"space-y-1 text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(k,{className:"w-4 h-4"}),i.email]}),i.whatsapp_number&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(C,{className:"w-4 h-4"}),i.whatsapp_number," (WhatsApp)"]}),i.university&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ne,{className:"w-4 h-4"}),i.university]}),i.linkedin_url&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(le,{className:"w-4 h-4"}),i.linkedin_url]})]})]})]}),a.jsx(ae,{}),a.jsxs(D,{children:[a.jsx(F,{children:a.jsx(q,{children:"Personal Information"})}),a.jsxs(A,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.date_of_birth&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Date of Birth"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(ce,{className:"w-4 h-4"}),new Date(i.date_of_birth).toLocaleDateString()]})]}),i.gender&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Gender"}),a.jsx("p",{className:"mt-1",children:i.gender})]}),i.marital_status&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Marital Status"}),a.jsx("p",{className:"mt-1",children:i.marital_status})]})]})]}),a.jsxs(D,{children:[a.jsx(F,{children:a.jsx(q,{children:"Academic Information"})}),a.jsxs(A,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.level_of_study&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Level of Study"}),a.jsx("p",{className:"mt-1",children:i.level_of_study})]}),i.university&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"University Name"}),a.jsx("p",{className:"mt-1",children:i.university})]}),i.major&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Major"}),a.jsx("p",{className:"mt-1",children:i.major})]}),i.year_of_enrollment&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Year of Enrollment"}),a.jsx("p",{className:"mt-1",children:i.year_of_enrollment})]}),i.expected_completion_year&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Expected Completion"}),a.jsx("p",{className:"mt-1",children:i.expected_completion_year})]}),i.year_of_study&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Current Year of Study"}),a.jsxs("p",{className:"mt-1",children:[i.year_of_study," year(s)"]})]})]})]}),a.jsxs(D,{children:[a.jsx(F,{children:a.jsx(q,{children:"Address Information"})}),a.jsxs(A,{className:"space-y-4",children:[(i.india_city||i.india_state)&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Germany Address"}),a.jsxs("div",{className:"flex items-start gap-2 mt-1",children:[a.jsx(E,{className:"w-4 h-4 mt-0.5"}),a.jsxs("div",{children:[a.jsxs("p",{children:[i.india_city&&`${i.india_city}, `,i.india_state&&`${i.india_state} `,i.india_pincode]}),i.india_phone&&a.jsxs("p",{children:["Phone: ",i.india_phone]})]})]})]}),(i.ghana_city||i.ghana_region)&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Ghana Address"}),a.jsxs("div",{className:"flex items-start gap-2 mt-1",children:[a.jsx(E,{className:"w-4 h-4 mt-0.5"}),a.jsxs("div",{children:[a.jsxs("p",{children:[i.ghana_city&&`${i.ghana_city}, `,i.ghana_region&&`${i.ghana_region} `,i.ghana_pincode]}),i.ghana_mobile_number&&a.jsxs("p",{children:["Phone: ",i.ghana_mobile_number]})]})]})]})]})]}),i.emergency_contact_name&&a.jsxs(D,{children:[a.jsx(F,{children:a.jsx(q,{children:"Emergency Contact"})}),a.jsxs(A,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),a.jsx("p",{className:"mt-1",children:i.emergency_contact_name})]}),i.emergency_contact_relationship&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Relationship"}),a.jsx("p",{className:"mt-1",children:i.emergency_contact_relationship})]}),i.emergency_contact_number&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Contact Number"}),a.jsx("p",{className:"mt-1",children:i.emergency_contact_number})]})]})]}),i.passport_document_url&&a.jsxs(D,{children:[a.jsx(F,{children:a.jsx(q,{children:"Documents"})}),a.jsx(A,{children:a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(de,{className:"w-5 h-5"}),a.jsx("span",{children:"Passport Document"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(I,{variant:"outline",size:"sm",onClick:()=>window.open(i.passport_document_url,"_blank"),children:[a.jsx(_e,{className:"w-4 h-4 mr-2"}),"View"]}),a.jsxs(I,{variant:"outline",size:"sm",onClick:()=>(async(e,s)=>{try{const t=await fetch(e),a=await t.blob(),i=window.URL.createObjectURL(a),r=document.createElement("a");r.href=i,r.download=s,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(i)}catch(t){}})(i.passport_document_url,"passport.pdf"),children:[a.jsx(be,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})})]}),i.bio&&a.jsxs(D,{children:[a.jsx(F,{children:a.jsx(q,{children:"Bio"})}),a.jsx(A,{children:a.jsx("p",{className:"text-muted-foreground",children:i.bio})})]})]}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Student not found"})})]})}):null}function qs({onStatsUpdate:e}){const[s,t]=v.useState([]),[i,r]=v.useState(!0),[n,l]=v.useState(null),[c,d]=v.useState(!1),[o,m]=v.useState(null),[u,h]=v.useState("all"),[x,j]=v.useState("all"),[f,p]=v.useState(""),[g,y]=v.useState("");v.useState("");const[b,_]=v.useState(""),{user:N}=P();v.useEffect(()=>{S()},[]);const S=async()=>{r(!0);try{const{data:e,error:s}=await w.from("profiles").select("id, email, first_name, last_name, university, is_verified, created_at, profile_image_url, role, india_state, year_of_enrollment");if(s)throw s;t(e||[])}catch(e){R({title:"Error",description:"Failed to load student data",variant:"destructive"})}finally{r(!1)}},k=s.filter(e=>{const s="all"===u||e.role===u,t="all"===x||"verified"===x&&e.is_verified||"pending"===x&&!e.is_verified,a=!f||e.university&&e.university.toLowerCase().includes(f.toLowerCase()),i=!g||e.india_state&&e.india_state.toLowerCase().includes(g.toLowerCase()),r=!b||e.first_name&&e.first_name.toLowerCase().includes(b.toLowerCase())||e.last_name&&e.last_name.toLowerCase().includes(b.toLowerCase());return s&&t&&a&&i&&r}),C=e=>{l(e),d(!0)};if(i)return a.jsxs(D,{children:[a.jsx(F,{children:a.jsx(q,{children:"Account Verification"})}),a.jsx(A,{children:a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]});return a.jsxs(a.Fragment,{children:[a.jsxs(D,{children:[a.jsxs(F,{children:[a.jsx(q,{children:"Account Verification"}),a.jsx(M,{children:"Manage user account verification status and roles"})]}),a.jsxs(A,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Role"}),a.jsxs(H,{value:u,onValueChange:h,children:[a.jsx(Y,{className:"w-full",children:a.jsx(G,{placeholder:"All Roles"})}),a.jsxs(J,{children:[a.jsx(W,{value:"all",children:"All Roles"}),a.jsx(W,{value:"student",children:"Student"}),a.jsx(W,{value:"admin",children:"Admin"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),a.jsxs(H,{value:x,onValueChange:j,children:[a.jsx(Y,{className:"w-full",children:a.jsx(G,{placeholder:"All Status"})}),a.jsxs(J,{children:[a.jsx(W,{value:"all",children:"All Status"}),a.jsx(W,{value:"verified",children:"Verified"}),a.jsx(W,{value:"pending",children:"Pending"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"University"}),a.jsx(L,{placeholder:"Filter by university...",value:f,onChange:e=>p(e.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"State"}),a.jsx(L,{placeholder:"Filter by state...",value:g,onChange:e=>y(e.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Name"}),a.jsx(L,{type:"text",placeholder:"e.g., Mark Febirir",value:b,onChange:e=>_(e.target.value)})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ze,{children:[a.jsx(Le,{children:a.jsxs(Ve,{children:[a.jsx(Be,{children:"Photo"}),a.jsx(Be,{children:"Name"}),a.jsx(Be,{children:"Email"}),a.jsx(Be,{children:"Role"}),a.jsx(Be,{children:"University"}),a.jsx(Be,{children:"State"}),a.jsx(Be,{children:"Status"}),a.jsx(Be,{children:"Joined"}),a.jsx(Be,{children:"Actions"})]})}),a.jsx(Oe,{children:k.map(e=>{var s,t;return a.jsxs(Ve,{children:[a.jsx(He,{children:a.jsxs(Q,{className:"w-10 h-10",children:[a.jsx(X,{src:e.profile_image_url||"/icon.png",alt:`${e.first_name} ${e.last_name}`,className:"object-cover"}),a.jsxs(Z,{className:"text-xs",children:[null==(s=e.first_name)?void 0:s[0],null==(t=e.last_name)?void 0:t[0]]})]})}),a.jsx(He,{children:a.jsxs("button",{onClick:()=>C(e),className:"text-left hover:text-primary hover:underline font-medium",children:[e.first_name," ",e.last_name]})}),a.jsx(He,{children:e.email}),a.jsx(He,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Te,{checked:"admin"===e.role||!1,onCheckedChange:s=>async function(e,s){try{if(N&&e===N.id)return void R({title:"Error",description:"You cannot change your own account role!",variant:"destructive"});const t=s?"admin":"student",{error:a}=await w.from("profiles").update({role:t}).eq("id",e);if(a)throw a;R({title:"Success",description:`Role updated to ${t} successfully!`}),S()}catch(t){R({title:"Error",description:"Failed to update role",variant:"destructive"})}}(e.id,s)}),a.jsx("span",{className:"text-sm",children:"admin"===e.role?a.jsxs("span",{className:"flex items-center text-green-600",children:[a.jsx(ie,{className:"w-4 h-4 mr-1"}),"Admin"]}):a.jsxs("span",{className:"flex items-center text-yellow-600",children:[a.jsx(re,{className:"w-4 h-4 mr-1"}),"Student"]})})]})}),a.jsx(He,{children:e.university||"Not specified"}),a.jsx(He,{children:e.india_state||"Not specified"}),a.jsx(He,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Te,{checked:e.is_verified||!1,onCheckedChange:s=>(async(e,s)=>{try{if(N&&e===N.id)return void R({title:"Error",description:"You cannot unverifiy your own account!",variant:"destructive"});const{error:t}=await w.from("profiles").update({is_verified:s}).eq("id",e);if(t)throw t;R({title:"Success",description:`Student ${s?"verified":"unverified"} successfully!`}),S()}catch(t){R({title:"Error",description:"Failed to update verification status",variant:"destructive"})}})(e.id,s)}),a.jsx("span",{className:"text-sm",children:e.is_verified?a.jsxs("span",{className:"flex items-center text-green-600",children:[a.jsx(ie,{className:"w-4 h-4 mr-1"}),"Verified"]}):a.jsxs("span",{className:"flex items-center text-yellow-600",children:[a.jsx(re,{className:"w-4 h-4 mr-1"}),"Pending"]})})]})}),a.jsx(He,{children:new Date(e.created_at||"").toLocaleDateString()}),a.jsx(He,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(I,{variant:"ghost",size:"sm",onClick:()=>C(e),children:a.jsx(oe,{className:"w-4 h-4"})}),a.jsx(I,{variant:"ghost",size:"sm",onClick:()=>m(e),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:a.jsx(we,{className:"w-4 h-4"})})]})})]},e.id)})})]})})]})]}),n&&a.jsx(Fs,{studentId:n.id,open:c,onClose:()=>{d(!1),l(null)}}),a.jsx(gs,{open:!!o,onOpenChange:()=>m(null),children:a.jsxs(_s,{children:[a.jsxs(Ns,{children:[a.jsx(Ss,{children:"Delete User Account"}),a.jsxs(ks,{children:["Are you sure you want to delete the account for"," ",a.jsxs("span",{className:"font-semibold",children:[null==o?void 0:o.first_name," ",null==o?void 0:o.last_name]}),"? This action cannot be undone and will permanently remove all user data."]})]}),a.jsxs(ws,{children:[a.jsx(Ds,{children:"Cancel"}),a.jsx(Cs,{onClick:()=>o&&(async e=>{try{if(N&&e===N.id)return void R({title:"Error",description:"You cannot delete your own account!",variant:"destructive"});await Promise.all([w.from("assistance_requests").delete().eq("student_id",e),w.from("messages").delete().eq("sender_id",e),w.from("messages").delete().eq("recipient_id",e),w.from("community_messages").delete().eq("sender_id",e),w.from("admin_approvals").delete().eq("applicant_id",e)]);const{error:s}=await w.from("profiles").delete().eq("id",e);if(s)throw s;const{error:t}=await w.auth.admin.deleteUser(e);R({title:"Success",description:"User deleted successfully!"}),m(null),S()}catch(s){R({title:"Error",description:"Failed to delete user",variant:"destructive"})}})(o.id),className:"bg-red-600 hover:bg-red-700",children:"Delete Account"})]})]})})]})}function As(){const[e,s]=v.useState([]),[t,i]=v.useState(!0),[r,n]=v.useState(!1),[l,c]=v.useState(null),[d,o]=v.useState("");v.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:e,error:t}=await w.from("hero_images").select("*").order("order_priority",{ascending:!0});if(t)throw t;s(e||[])}catch(e){R({title:"Error",description:"Failed to load hero images",variant:"destructive"})}finally{i(!1)}};return t?a.jsxs(D,{children:[a.jsx(F,{children:a.jsx(q,{children:"Hero Slideshow Manager"})}),a.jsx(A,{children:a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):a.jsxs(D,{children:[a.jsxs(F,{children:[a.jsx(q,{children:"Hero Slideshow Manager"}),a.jsx(M,{children:"Manage hero section background images for the homepage slideshow"})]}),a.jsxs(A,{className:"space-y-6",children:[a.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),l&&d){n(!0);try{const s=l.name.split(".").pop(),t=`hero-${Date.now()}.${s}`,{error:a}=await w.storage.from("hero-images").upload(t,l);if(a)throw a;const{data:{publicUrl:i}}=w.storage.from("hero-images").getPublicUrl(t),{error:r}=await w.from("hero_images").insert({title:d,image_url:i,is_active:!0,order_priority:e.length+1});if(r)throw r;R({title:"Success",description:"Hero image uploaded successfully!"}),c(null),o(""),m()}catch(t){R({title:"Error",description:"Failed to upload hero image",variant:"destructive"})}finally{n(!1)}}else R({title:"Error",description:"Please select an image and provide a title",variant:"destructive"})},className:"space-y-4 p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-semibold",children:"Upload New Hero Image"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(O,{htmlFor:"hero-title",children:"Image Title"}),a.jsx(L,{id:"hero-title",value:d,onChange:e=>o(e.target.value),placeholder:"Enter image title",required:!0})]}),a.jsxs("div",{children:[a.jsx(O,{htmlFor:"hero-image",children:"Select Image"}),a.jsx(L,{id:"hero-image",type:"file",accept:"image/*",onChange:e=>{var s;return c((null==(s=e.target.files)?void 0:s[0])||null)},required:!0})]})]}),a.jsxs(I,{type:"submit",disabled:r,children:[a.jsx(me,{className:"w-4 h-4 mr-2"}),r?"Uploading...":"Upload Image"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Current Hero Images"}),0===e.length?a.jsx("p",{className:"text-muted-foreground",children:"No hero images uploaded yet."}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>a.jsxs(D,{className:"overflow-hidden",children:[a.jsx("div",{className:"aspect-video bg-gray-100",children:a.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"})}),a.jsxs(A,{className:"p-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:e.title}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Te,{checked:e.is_active,onCheckedChange:s=>(async(e,s)=>{try{const{error:t}=await w.from("hero_images").update({is_active:s}).eq("id",e);if(t)throw t;R({title:"Success",description:`Image ${s?"activated":"deactivated"} successfully`}),m()}catch(t){R({title:"Error",description:"Failed to update image status",variant:"destructive"})}})(e.id,s)}),a.jsx("span",{className:"text-sm",children:e.is_active?a.jsxs("span",{className:"flex items-center text-green-600",children:[a.jsx(oe,{className:"w-4 h-4 mr-1"}),"Active"]}):a.jsxs("span",{className:"flex items-center text-gray-500",children:[a.jsx(ue,{className:"w-4 h-4 mr-1"}),"Inactive"]})})]}),a.jsxs(gs,{children:[a.jsx(vs,{asChild:!0,children:a.jsx(I,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:a.jsx(we,{className:"w-4 h-4"})})}),a.jsxs(_s,{children:[a.jsxs(Ns,{children:[a.jsx(Ss,{children:"Delete Hero Image"}),a.jsxs(ks,{children:['Are you sure you want to delete "',e.title,'"? This action cannot be undone.']})]}),a.jsxs(ws,{children:[a.jsx(Ds,{children:"Cancel"}),a.jsx(Cs,{onClick:()=>(async(e,s)=>{try{const t=s.split("/").pop();t&&await w.storage.from("hero-images").remove([t]);const{error:a}=await w.from("hero_images").delete().eq("id",e);if(a)throw a;R({title:"Success",description:"Hero image deleted successfully"}),m()}catch(t){R({title:"Error",description:"Failed to delete hero image",variant:"destructive"})}})(e.id,e.image_url),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})]})]},e.id))})]})]})]})}function Es(){const{user:e}=P(),[s,t]=v.useState({maintenance_mode:!1,allow_registrations:!0,email_notifications:!0}),[i,r]=v.useState(!0),[n,l]=v.useState(!1),[c,d]=v.useState(!1);v.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:e,error:s}=await w.from("platform_settings").select("setting_key, setting_value");if(s)throw s;const a={};null==e||e.forEach(({setting_key:e,setting_value:s})=>{a[e]="true"===s||!0===s}),t(a)}catch(e){R({title:"Error",description:"Failed to load platform settings",variant:"destructive"})}finally{r(!1)}},m=async(s,a)=>{l(!0);try{const{error:i}=await w.from("platform_settings").update({setting_value:a.toString(),updated_by:null==e?void 0:e.id,updated_at:(new Date).toISOString()}).eq("setting_key",s);if(i)throw i;t(e=>({...e,[s]:a})),R({title:"Success",description:`${s.replace("_"," ")} ${a?"enabled":"disabled"} successfully`})}catch(i){R({title:"Error",description:"Failed to update setting",variant:"destructive"})}finally{l(!1)}};return i?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx(he,{className:"w-8 h-8 animate-spin text-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(D,{children:[a.jsxs(F,{children:[a.jsxs(q,{className:"flex items-center",children:[a.jsx($,{className:"w-5 h-5 mr-2"}),"Platform Settings"]}),a.jsx(M,{children:"Control system-wide platform behavior and features"})]}),a.jsxs(A,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-card hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"space-y-0.5 flex-1",children:[a.jsx(O,{htmlFor:"maintenance-mode",className:"text-base font-medium cursor-pointer",children:"Maintenance Mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Restrict platform access to admins only during maintenance"}),s.maintenance_mode&&a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-amber-600",children:[a.jsx(U,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-medium",children:"⚠️ Platform is in maintenance mode"})]})]}),a.jsx(Te,{id:"maintenance-mode",checked:s.maintenance_mode,onCheckedChange:e=>m("maintenance_mode",e),disabled:n})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-card hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"space-y-0.5 flex-1",children:[a.jsx(O,{htmlFor:"allow-registrations",className:"text-base font-medium cursor-pointer",children:"Allow New Registrations"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable or disable new user sign-ups on the platform"})]}),a.jsx(Te,{id:"allow-registrations",checked:s.allow_registrations,onCheckedChange:e=>m("allow_registrations",e),disabled:n})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-card hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"space-y-0.5 flex-1",children:[a.jsx(O,{htmlFor:"email-notifications",className:"text-base font-medium cursor-pointer",children:"Enable Email Notifications"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Send automated email notifications to users for important events"})]}),a.jsx(Te,{id:"email-notifications",checked:s.email_notifications,onCheckedChange:e=>m("email_notifications",e),disabled:n})]})]})]}),a.jsxs(D,{children:[a.jsxs(F,{children:[a.jsxs(q,{className:"flex items-center",children:[a.jsx(be,{className:"w-5 h-5 mr-2"}),"Full Database Backup"]}),a.jsx(M,{children:"Export all platform data including profiles, messages, and settings"})]}),a.jsxs(A,{className:"space-y-4",children:[a.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Backup includes all 15 database tables:"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-muted-foreground",children:[a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:"• User Profiles & Accounts"}),a.jsx("li",{children:"• Community & Private Messages"}),a.jsx("li",{children:"• Announcements & News"}),a.jsx("li",{children:"• Board Members & Leadership"}),a.jsx("li",{children:"• Assistance Requests"}),a.jsx("li",{children:"• Contact Inquiries"}),a.jsx("li",{children:"• Admin Approvals"}),a.jsx("li",{children:"• Constitution Documents"})]}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:"• Finance Settings"}),a.jsx("li",{children:"• Hero Images"}),a.jsx("li",{children:"• Organization Milestones"}),a.jsx("li",{children:"• Organization Settings"}),a.jsx("li",{children:"• Sponsors"}),a.jsx("li",{children:"• Platform Settings"})]})]})]}),a.jsx(I,{onClick:async()=>{var e,s,t,a,i,r,n,l,c,o,m,u,h,x;d(!0);try{R({title:"Generating backup...",description:"Fetching data from all tables..."});const[d,j,f,p,g,v,y,b,_,N,S,k,C,D,F]=await Promise.all([w.from("profiles").select("*"),w.from("community_messages").select("*"),w.from("announcements").select("*"),w.from("board_members").select("*"),w.from("platform_settings").select("*"),w.from("assistance_requests").select("*"),w.from("contact_inquiries").select("*"),w.from("admin_approvals").select("*"),w.from("constitution_documents").select("*"),w.from("finance_settings").select("*"),w.from("hero_images").select("*"),w.from("messages").select("*"),w.from("organization_milestones").select("*"),w.from("organization_settings").select("*"),w.from("sponsors").select("*")]),q={timestamp:(new Date).toISOString(),version:"1.1",type:"full_database_backup",platform:"NUGSA-Germany",data:{profiles:d.data||[],community_messages:j.data||[],announcements:f.data||[],board_members:p.data||[],platform_settings:g.data||[],assistance_requests:v.data||[],contact_inquiries:y.data||[],admin_approvals:b.data||[],constitution_documents:_.data||[],finance_settings:N.data||[],hero_images:S.data||[],messages:k.data||[],organization_milestones:C.data||[],organization_settings:D.data||[],sponsors:F.data||[]},metadata:{total_records:{profiles:(null==(e=d.data)?void 0:e.length)||0,community_messages:(null==(s=j.data)?void 0:s.length)||0,announcements:(null==(t=f.data)?void 0:t.length)||0,board_members:(null==(a=p.data)?void 0:a.length)||0,assistance_requests:(null==(i=v.data)?void 0:i.length)||0,contact_inquiries:(null==(r=y.data)?void 0:r.length)||0,admin_approvals:(null==(n=b.data)?void 0:n.length)||0,constitution_documents:(null==(l=_.data)?void 0:l.length)||0,finance_settings:(null==(c=N.data)?void 0:c.length)||0,hero_images:(null==(o=S.data)?void 0:o.length)||0,messages:(null==(m=k.data)?void 0:m.length)||0,organization_milestones:(null==(u=C.data)?void 0:u.length)||0,organization_settings:(null==(h=D.data)?void 0:h.length)||0,sponsors:(null==(x=F.data)?void 0:x.length)||0}}},A=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),E=URL.createObjectURL(A),I=document.createElement("a");I.href=E,I.download=`nugsa-full-backup-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(E),R({title:"Success",description:"Full database backup downloaded successfully"})}catch(j){R({title:"Error",description:"Failed to generate backup",variant:"destructive"})}finally{d(!1)}},className:"w-full sm:w-auto",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(he,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating Full Backup..."]}):a.jsxs(a.Fragment,{children:[a.jsx(be,{className:"w-4 h-4 mr-2"}),"Download Full Backup"]})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Backup will be downloaded as a JSON file. This contains sensitive data, please store it securely."})]})]}),a.jsxs(D,{children:[a.jsxs(F,{children:[a.jsxs(q,{className:"flex items-center",children:[a.jsx(T,{className:"w-5 h-5 mr-2"}),"Push Notifications"]}),a.jsx(M,{children:"Test the push notification system"})]}),a.jsx(A,{className:"space-y-4",children:a.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Send a test notification to all subscribed users (including yourself)."}),a.jsx(I,{onClick:async()=>{try{R({title:"Sending...",description:"Sending test notification..."});const{data:e,error:s}=await w.functions.invoke("push-notification",{body:{title:"Test Notification",body:"This is a test notification from the admin dashboard.",url:"/admin-dashboard"}});if(s)throw s;R({title:"Success",description:`Notification sent! Results: ${JSON.stringify(e)}`})}catch(e){R({title:"Error",description:"Failed to send notification. Make sure the Edge Function is deployed.",variant:"destructive"})}},children:"Send Test Notification"})]})})]})]})}function Is({onUpdate:e}){const[s,t]=v.useState([]),[i,r]=v.useState(!0),[n,l]=v.useState(!1),[c,d]=v.useState({title:"",description:"",category:"Events",event_date:(new Date).toISOString().split("T")[0],is_featured:!1}),[o,m]=v.useState(null);v.useEffect(()=>{u()},[]);const u=async()=>{try{r(!0);const{data:e,error:s}=await w.from("gallery_items").select("*").order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){R({title:"Error",description:"Failed to load gallery items",variant:"destructive"})}finally{r(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(xe,{className:"w-5 h-5 text-primary"}),"Add New Photo"]}),a.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),o){l(!0);try{const s=o.name.split(".").pop(),t=`gallery-${Date.now()}.${s}`,{error:a}=await w.storage.from("gallery").upload(t,o);if(a)throw a;const{data:{publicUrl:i}}=w.storage.from("gallery").getPublicUrl(t),{error:r}=await w.from("gallery_items").insert({title:c.title,description:c.description,category:c.category,event_date:c.event_date,is_featured:c.is_featured,image_url:i});if(r)throw r;R({title:"Success",description:"Photo added to gallery successfully"}),d({title:"",description:"",category:"Events",event_date:(new Date).toISOString().split("T")[0],is_featured:!1}),m(null),u(),e&&e()}catch(t){R({title:"Error",description:"Failed to add photo to gallery",variant:"destructive"})}finally{l(!1)}}else R({title:"Required",description:"Please select an image to upload",variant:"destructive"})},className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(O,{htmlFor:"title",children:"Title"}),a.jsx(L,{id:"title",value:c.title,onChange:e=>d({...c,title:e.target.value}),placeholder:"e.g., Independence Day Celebration",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(O,{htmlFor:"category",children:"Category"}),a.jsxs(H,{value:c.category,onValueChange:e=>d({...c,category:e}),children:[a.jsx(Y,{children:a.jsx(G,{placeholder:"Select category"})}),a.jsxs(J,{children:[a.jsx(W,{value:"Events",children:"Events"}),a.jsx(W,{value:"Meetings",children:"Meetings"}),a.jsx(W,{value:"Community",children:"Community"}),a.jsx(W,{value:"Social",children:"Social"}),a.jsx(W,{value:"Academic",children:"Academic"}),a.jsx(W,{value:"Cultural",children:"Cultural"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(O,{htmlFor:"event_date",children:"Event Date"}),a.jsx(L,{id:"event_date",type:"date",value:c.event_date,onChange:e=>d({...c,event_date:e.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(O,{htmlFor:"image",children:"Photo"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(L,{id:"image",type:"file",accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]&&m(e.target.files[0])},className:"cursor-pointer",required:!0})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(O,{htmlFor:"description",children:"Description (Optional)"}),a.jsx(V,{id:"description",value:c.description,onChange:e=>d({...c,description:e.target.value}),placeholder:"Brief description of the event...",rows:2})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Te,{id:"featured",checked:c.is_featured,onCheckedChange:e=>d({...c,is_featured:e})}),a.jsx(O,{htmlFor:"featured",children:"Featured (Show first)"})]}),a.jsx(I,{type:"submit",disabled:n,className:"w-full md:w-auto",children:n?a.jsxs(a.Fragment,{children:[a.jsx(z,{size:"sm",className:"mr-2"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(me,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border shadow-sm",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(je,{className:"w-5 h-5 text-primary"}),"Gallery Items"]})}),i?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(z,{size:"md",className:"mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading items..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ze,{children:[a.jsx(Le,{children:a.jsxs(Ve,{children:[a.jsx(Be,{className:"w-[100px]",children:"Image"}),a.jsx(Be,{children:"Title"}),a.jsx(Be,{children:"Category"}),a.jsx(Be,{children:"Date"}),a.jsx(Be,{children:"Featured"}),a.jsx(Be,{className:"text-right",children:"Actions"})]})}),a.jsx(Oe,{children:0===s.length?a.jsx(Ve,{children:a.jsx(He,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No photos found. Upload one above!"})}):s.map(s=>a.jsxs(Ve,{children:[a.jsx(He,{children:a.jsx("div",{className:"w-12 h-12 rounded overflow-hidden bg-gray-100",children:a.jsx("img",{src:s.image_url,alt:s.title,className:"w-full h-full object-cover"})})}),a.jsx(He,{className:"font-medium",children:s.title}),a.jsx(He,{children:a.jsx(B,{variant:"outline",children:s.category})}),a.jsx(He,{children:a.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[a.jsx(ce,{className:"w-3 h-3 mr-1"}),new Date(s.event_date||"").toLocaleDateString()]})}),a.jsx(He,{children:s.is_featured?a.jsx(B,{className:"bg-green-100 text-green-700 hover:bg-green-100 border-none",children:"Featured"}):a.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),a.jsx(He,{className:"text-right",children:a.jsx(I,{variant:"ghost",size:"icon",onClick:()=>(async(s,t)=>{if(confirm("Are you sure you want to delete this photo?"))try{const{error:a}=await w.from("gallery_items").delete().eq("id",s);if(a)throw a;const i=t.split("/"),r=i[i.length-1];r&&await w.storage.from("gallery").remove([r]),R({title:"Success",description:"Photo deleted successfully"}),u(),e&&e()}catch(a){R({title:"Error",description:"Failed to delete photo",variant:"destructive"})}})(s.id,s.image_url),className:"text-destructive hover:text-destructive/90 hover:bg-destructive/10",children:a.jsx(we,{className:"w-4 h-4"})})})]},s.id))})]})})]})]})}function Ps(){const{user:e}=P(),s=y(),[t,i]=v.useState("verification"),[r,n]=v.useState(!1),[l,c]=v.useState(!1),[d,o]=v.useState(null),[m,u]=v.useState(null),[h,x]=v.useState({totalStudents:0,verifiedStudents:0,pendingVerifications:0,totalInquiries:0,pendingInquiries:0}),[j,f]=v.useState([]),[p,g]=v.useState("2024-2025"),[b,_]=v.useState(""),[N,S]=v.useState(null),[C,E]=v.useState({name:"",position:"",academic_background:"",leadership_experience:"",quote:"",image_url:"",year:`${(new Date).getFullYear()}-${(new Date).getFullYear()+1}`}),[U,z]=v.useState(null),[Q,X]=v.useState([]),[Z,K]=v.useState({title:"",version:"",is_current:!0}),[ee,se]=v.useState(null),[te,ae]=v.useState([]),[ie,re]=v.useState({title:"",content:"",category:"general",featured:!1,published:!0}),[ne,le]=v.useState([]),[me,he]=v.useState([]),[be,_e]=v.useState("all"),[Ce,De]=v.useState([]),[Fe,qe]=v.useState("all"),[Ae,Ee]=v.useState({bank_transfer_details:{bank_name:"",account_name:"",account_number:"",swift_code:"",upi_id:""},mobile_money_details:{provider:"",number:"",name:""},contact_details:{treasurer_name:"",treasurer_email:"",treasurer_phone:"",finance_email:""}}),[Ie,Pe]=v.useState(null),[Re,Me]=v.useState(!1);v.useEffect(()=>{if(!e){const e=setTimeout(()=>{s("/auth")},3e3);return()=>clearTimeout(e)}$e()},[e,s]);const $e=async()=>{if(e)try{const{data:s,error:t}=await w.from("profiles").select("role, is_verified").eq("id",e.id).single();if(t)throw t;if("admin"!==(null==s?void 0:s.role)||!(null==s?void 0:s.is_verified))return c(!0),o(null==s?void 0:s.role),void u(null==s?void 0:s.is_verified);Ue(),Ye(),Ge(),Je(),We(),Qe(),Xe()}catch(s){R({title:"Error",description:"Failed to verify admin access",variant:"destructive"})}},Ue=async()=>{try{const[{count:e},{count:s},{count:t},{count:a},{count:i}]=await Promise.all([w.from("profiles").select("*",{count:"exact",head:!0}).eq("role","student"),w.from("profiles").select("*",{count:"exact",head:!0}).eq("role","student").eq("is_verified",!0),w.from("profiles").select("*",{count:"exact",head:!0}).eq("role","student").eq("is_verified",!1),w.from("contact_inquiries").select("*",{count:"exact",head:!0}),w.from("contact_inquiries").select("*",{count:"exact",head:!0}).eq("status","pending")]);x({totalStudents:e||0,verifiedStudents:s||0,pendingVerifications:t||0,totalInquiries:a||0,pendingInquiries:i||0})}catch(e){R({title:"Error",description:"Failed to load dashboard statistics",variant:"destructive"})}},Ye=async()=>{n(!0);try{const{data:e,error:s}=await w.from("board_members").select("*").order("order_priority",{ascending:!0});if(s)throw s;f(e||[])}catch(e){R({title:"Error",description:"Failed to load board members",variant:"destructive"})}finally{n(!1)}},Ge=async()=>{n(!0);try{const{data:e,error:s}=await w.from("constitution_documents").select("*").order("created_at",{ascending:!1});if(s)throw s;X(e||[])}catch(e){R({title:"Error",description:"Failed to load constitution documents",variant:"destructive"})}finally{n(!1)}},Je=async()=>{n(!0);try{const{data:e,error:s}=await w.from("announcements").select("*").order("created_at",{ascending:!1});if(s)throw s;ae(e||[])}catch(e){R({title:"Error",description:"Failed to load announcements",variant:"destructive"})}finally{n(!1)}},We=async()=>{n(!0);try{const{data:e,error:s}=await w.from("contact_inquiries").select("*").order("created_at",{ascending:!1});if(s)throw s;he(e||[])}catch(e){R({title:"Error",description:"Failed to load contact inquiries",variant:"destructive"})}finally{n(!1)}},Qe=async()=>{n(!0);try{const{data:e,error:s}=await w.from("assistance_requests").select("\n          *,\n          profiles!assistance_requests_student_id_fkey (\n            first_name,\n            last_name,\n            university,\n            phone,\n            current_state,\n            current_city,\n            india_pincode\n          )\n        ").order("created_at",{ascending:!1});if(s)throw s;De((e||[]).map(e=>({...e,status:e.status})))}catch(e){R({title:"Error",description:"Failed to load assistance requests",variant:"destructive"})}finally{n(!1)}},Xe=async()=>{n(!0);try{const{data:e,error:s}=await w.from("organization_settings").select("*");if(s)throw s;const t={bank_transfer_details:{bank_name:"",account_name:"",account_number:"",swift_code:"",upi_id:""},mobile_money_details:{provider:"",number:"",name:""},contact_details:{treasurer_name:"",treasurer_email:"",treasurer_phone:"",finance_email:""}};null==e||e.forEach(e=>{"bank_transfer_details"===e.setting_key?t.bank_transfer_details="string"==typeof e.setting_value?JSON.parse(e.setting_value):e.setting_value:"mobile_money_details"===e.setting_key?t.mobile_money_details="string"==typeof e.setting_value?JSON.parse(e.setting_value):e.setting_value:"contact_details"===e.setting_key&&(t.contact_details="string"==typeof e.setting_value?JSON.parse(e.setting_value):e.setting_value)}),Ee(t)}catch(e){R({title:"Error",description:"Failed to load finance settings",variant:"destructive"})}finally{n(!1)}},Ze=async s=>{if(s.preventDefault(),e){n(!0);try{let e="";if(U){const s=U.name.split(".").pop(),t=`board-member-${Date.now()}.${s}`,{error:a}=await w.storage.from("board-images").upload(t,U);if(a)throw a;const{data:{publicUrl:i}}=w.storage.from("board-images").getPublicUrl(t);e=i}if(N){const{error:s}=await w.from("board_members").update({...C,image_url:e||N.image_url}).eq("id",N.id);if(s)throw s;R({title:"Success",description:"Board member updated successfully!"})}else{const{error:s}=await w.from("board_members").insert({...C,image_url:e,is_active:!0,order_priority:j.length+1});if(s)throw s;R({title:"Success",description:"Board member added successfully!"})}E({name:"",position:"",academic_background:"",leadership_experience:"",quote:"",image_url:"",year:`${(new Date).getFullYear()}-${(new Date).getFullYear()+1}`}),z(null),S(null),Ye()}catch(t){R({title:"Error",description:"Failed to save board member",variant:"destructive"})}finally{n(!1)}}},Ke=async s=>{if(s.preventDefault(),e&&ee){n(!0);try{const s=ee.name.split(".").pop(),t=`constitution-${Date.now()}.${s}`,{error:a}=await w.storage.from("constitution-docs").upload(t,ee);if(a)throw a;const{data:{publicUrl:i}}=w.storage.from("constitution-docs").getPublicUrl(t);Z.is_current&&await w.from("constitution_documents").update({is_current:!1}).neq("id","");const{error:r}=await w.from("constitution_documents").insert({...Z,file_url:i,uploaded_by:e.id});if(r)throw r;R({title:"Success",description:"Constitution document added successfully!"}),K({title:"",version:"",is_current:!1}),se(null),Ge()}catch(t){R({title:"Error",description:"Failed to add constitution document",variant:"destructive"})}finally{n(!1)}}},es=async s=>{if(s.preventDefault(),e){n(!0);try{let s=[],t="",a="";if(ne.length>0){for(const e of ne){const t=e.name.split(".").pop(),i=`announcement-${Date.now()}-${Math.random()}.${t}`,{error:r}=await w.storage.from("news-images").upload(i,e);if(r)throw r;const{data:{publicUrl:n}}=w.storage.from("news-images").getPublicUrl(i);s.push(n),a=s.join(";")}t=s[0]||""}const{error:i}=await w.from("announcements").insert([{title:ie.title,content:ie.content,category:ie.category,featured:ie.featured,published:ie.published,image_url:s[0]||null,author_id:e.id}]);if(i)throw i;R({title:"Success",description:"Announcement added successfully!"}),re({title:"",content:"",category:"general",featured:!1,published:!0}),le([]),Je()}catch(t){R({title:"Error",description:"Failed to add announcement",variant:"destructive"})}finally{n(!1)}}},ss=async(s,t)=>{try{const{error:a}=await w.from("contact_inquiries").update({status:t,resolved_at:"resolved"===t?(new Date).toISOString():null,resolved_by:"resolved"===t?null==e?void 0:e.id:null}).eq("id",s);if(a)throw a;R({title:"Success",description:`Inquiry marked as ${t.replace("_"," ")}`}),We(),Ue()}catch(a){R({title:"Error",description:"Failed to update inquiry status",variant:"destructive"})}},ts=async(s,t)=>{try{const{error:a}=await w.from("assistance_requests").update({status:t,resolved_at:"resolved"===t?(new Date).toISOString():null,reviewed_by:null==e?void 0:e.id}).eq("id",s);if(a)throw a;R({title:"Success",description:`Assistance request marked as ${t.replace("_"," ")}`}),Qe()}catch(a){R({title:"Error",description:"Failed to update assistance request",variant:"destructive"})}},as=async e=>{try{const{error:s}=await w.from("organization_settings").upsert({setting_key:e,setting_value:Ae[e]},{onConflict:"setting_key"});if(s)throw s;R({title:"Success",description:"Finance settings updated successfully"}),Xe()}catch(s){R({title:"Error",description:"Failed to update finance settings",variant:"destructive"})}},is=me.filter(e=>"all"===be||e.status===be),rs=Ce.filter(e=>"all"===Fe||e.status===Fe);if(!e)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"Please sign in to access the admin dashboard"})]})});function ns(e){const s=new Date,t=new Date(e),a=Math.floor((s.getTime()-t.getTime())/1e3);if(a<60)return`${a} second${1!==a?"s":""} ago`;const i=Math.floor(a/60);if(i<60)return`${i} minute${1!==i?"s":""} ago`;const r=Math.floor(i/60);if(r<24)return`${r} hour${1!==r?"s":""} ago`;const n=Math.floor(r/24);if(n<7)return`${n} day${1!==n?"s":""} ago`;const l=Math.floor(n/7);if(l<4)return`${l} week${1!==l?"s":""} ago`;const c=Math.floor(n/30);if(c<12)return`${c} month${1!==c?"s":""} ago`;const d=Math.floor(n/365);return`${d} year${1!==d?"s":""} ago`}return l?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs(D,{className:"w-full max-w-md",children:[a.jsxs(F,{children:[a.jsxs(q,{className:"text-red-600 flex items-center gap-2",children:[a.jsx(fe,{className:"h-6 w-6"}),"Access Denied"]}),a.jsx(M,{children:"You do not have permission to view the Admin Dashboard."})]}),a.jsxs(A,{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-md space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Current Role:"})," ",d||"None"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Verified:"})," ",m?"Yes":"No"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"User ID:"})," ",null==e?void 0:e.id]})]}),a.jsx("div",{className:"text-sm text-gray-600",children:a.jsx("p",{children:"To fix this, please run the SQL command to update your role to 'admin' and is_verified to true."})}),a.jsx(I,{onClick:()=>s("/dashboard"),className:"w-full",children:"Go to Student Dashboard"})]})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50/50",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Manage all aspects of the NUGSA - Germany platform"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[a.jsxs(D,{children:[a.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(q,{className:"text-sm font-medium",children:"Total Students"}),a.jsx(pe,{className:"h-4 w-4 text-blue-600"})]}),a.jsx(A,{children:a.jsx("div",{className:"text-2xl font-bold",children:h.totalStudents})})]}),a.jsxs(D,{children:[a.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(q,{className:"text-sm font-medium",children:"Verified"}),a.jsx(Se,{className:"h-4 w-4 text-green-600"})]}),a.jsx(A,{children:a.jsx("div",{className:"text-2xl font-bold",children:h.verifiedStudents})})]}),a.jsxs(D,{children:[a.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(q,{className:"text-sm font-medium",children:"Pending"}),a.jsx(ke,{className:"h-4 w-4 text-orange-600"})]}),a.jsx(A,{children:a.jsx("div",{className:"text-2xl font-bold",children:h.pendingVerifications})})]}),a.jsxs(D,{children:[a.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(q,{className:"text-sm font-medium",children:"Total Inquiries"}),a.jsx(k,{className:"h-4 w-4 text-purple-600"})]}),a.jsx(A,{children:a.jsx("div",{className:"text-2xl font-bold",children:h.totalInquiries})})]}),a.jsxs(D,{children:[a.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(q,{className:"text-sm font-medium",children:"Pending Inquiries"}),a.jsx(T,{className:"h-4 w-4 text-red-600"})]}),a.jsx(A,{children:a.jsx("div",{className:"text-2xl font-bold",children:h.pendingInquiries})})]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-8 border-b",children:[{id:"verification",label:"Verification",icon:Se},{id:"board",label:"Board Members",icon:pe},{id:"constitution",label:"Constitution",icon:de},{id:"announcements",label:"Announcements",icon:T},{id:"inquiries",label:"Contact Inquiries",icon:k},{id:"assistance",label:"Assistance Requests",icon:$},{id:"finance",label:"Finance",icon:ye},{id:"gallery",label:"Gallery",icon:je},{id:"hero",label:"Hero Images",icon:ce},{id:"platform",label:"Platform Settings",icon:$}].map(({id:e,label:s,icon:r})=>a.jsxs("button",{onClick:()=>i(e),className:"flex items-center px-4 py-2 rounded-t-lg font-medium transition-colors "+(t===e?"bg-primary text-primary-foreground border-b-2 border-primary":"text-muted-foreground hover:text-primary"),children:[a.jsx(r,{className:"w-4 h-4 mr-2"}),s]},e))}),a.jsxs("div",{className:"space-y-6",children:["verification"===t&&a.jsx(qs,{onStatsUpdate:Ue}),"board"===t&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(D,{children:[a.jsx(F,{children:a.jsxs(q,{className:"flex items-center",children:[N?a.jsx(Ne,{className:"w-5 h-5 mr-2"}):a.jsx(xe,{className:"w-5 h-5 mr-2"}),N?"Edit Board Member":"Add New Board Member"]})}),a.jsx(A,{children:a.jsxs("form",{onSubmit:Ze,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(O,{htmlFor:"member-name",children:"Name"}),a.jsx(L,{id:"member-name",value:C.name,onChange:e=>E({...C,name:e.target.value}),placeholder:"Enter full name",required:!0})]}),a.jsxs("div",{children:[a.jsx(O,{htmlFor:"member-position",children:"Position"}),a.jsx(L,{id:"member-position",value:C.position,onChange:e=>E({...C,position:e.target.value}),placeholder:"e.g., President, Vice President",required:!0})]}),a.jsxs("div",{children:[a.jsx(O,{htmlFor:"member-year",children:"Year"}),a.jsxs(H,{value:C.year,onValueChange:e=>E({...C,year:e}),children:[a.jsx(Y,{children:a.jsx(G,{placeholder:"Select year"})}),a.jsxs(J,{children:[a.jsx(W,{value:"all",children:"All Years"}),Array.from({length:7},(e,s)=>{const t=2019+s,i=`${t}-${t+1}`;return a.jsx(W,{value:i,children:i},i)})]})]})]}),a.jsxs("div",{children:[a.jsx(O,{htmlFor:"member-image",children:"Profile Image"}),a.jsx(L,{id:"member-image",type:"file",accept:"image/*",onChange:e=>{var s;return z((null==(s=e.target.files)?void 0:s[0])||null)}})]})]}),a.jsxs("div",{children:[a.jsx(O,{htmlFor:"member-academic",children:"Academic Background"}),a.jsx(V,{id:"member-academic",value:C.academic_background,onChange:e=>E({...C,academic_background:e.target.value}),placeholder:"Enter academic background"})]}),a.jsxs("div",{children:[a.jsx(O,{htmlFor:"member-leadership",children:"Leadership Experience"}),a.jsx(V,{id:"member-leadership",value:C.leadership_experience,onChange:e=>E({...C,leadership_experience:e.target.value}),placeholder:"Enter leadership experience"})]}),a.jsxs("div",{children:[a.jsx(O,{htmlFor:"member-quote",children:"Quote/Vision"}),a.jsx(V,{id:"member-quote",value:C.quote,onChange:e=>E({...C,quote:e.target.value}),placeholder:"Enter inspiring quote or vision"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(I,{type:"submit",disabled:r,children:N?a.jsxs(a.Fragment,{children:[a.jsx(Ne,{className:"w-4 h-4 mr-2"}),r?"Updating...":"Update Member"]}):a.jsxs(a.Fragment,{children:[a.jsx(xe,{className:"w-4 h-4 mr-2"}),r?"Adding...":"Add Member"]})}),N&&a.jsx(I,{type:"button",variant:"outline",onClick:()=>{S(null),E({name:"",position:"",academic_background:"",leadership_experience:"",quote:"",image_url:"",year:`${(new Date).getFullYear()}-${(new Date).getFullYear()+1}`}),z(null)},children:"Cancel"})]})]})})]}),a.jsxs(D,{children:[a.jsx(F,{children:a.jsxs(q,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(pe,{className:"w-5 h-5 mr-2"}),"Board Members Management"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(H,{value:p,onValueChange:g,children:[a.jsx(Y,{className:"w-32",children:a.jsx(G,{placeholder:"Filter by year"})}),a.jsx(J,{children:Array.from({length:(new Date).getFullYear()-2019+1},(e,s)=>{const t=2019+s,i=`${t}-${t+1}`;return a.jsx(W,{value:i,children:i},i)})})]}),a.jsx(L,{placeholder:"Filter by position...",value:b,onChange:e=>_(e.target.value),className:"w-48"})]})]})}),a.jsx(A,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ze,{children:[a.jsx(Le,{children:a.jsxs(Ve,{children:[a.jsx(Be,{children:"Photo"}),a.jsx(Be,{children:"Name"}),a.jsx(Be,{children:"Position"}),a.jsx(Be,{children:"Year"}),a.jsx(Be,{children:"Status"}),a.jsx(Be,{children:"Actions"})]})}),a.jsx(Oe,{children:j.filter(e=>{const s=!p||e.year===p,t=!b||e.position.toLowerCase().includes(b.toLowerCase());return s&&t}).map(e=>a.jsxs(Ve,{children:[a.jsx(He,{children:a.jsx("img",{src:e.image_url||"/default-profile.png",alt:e.name,className:"w-10 h-10 rounded-full object-cover"})}),a.jsx(He,{className:"font-medium",children:e.name}),a.jsx(He,{children:e.position}),a.jsx(He,{children:e.year}),a.jsx(He,{children:a.jsx(B,{variant:e.is_active?"default":"secondary",children:e.is_active?"Active":"Hidden"})}),a.jsx(He,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(I,{variant:"ghost",size:"sm",onClick:async()=>{try{const{error:s}=await w.from("board_members").update({is_active:!e.is_active}).eq("id",e.id);if(s)throw s;R({title:"Success",description:`Board member ${e.is_active?"shown":"hidden"} successfully!`}),Ye()}catch(s){R({title:"Error",description:"Failed to update board member status",variant:"destructive"})}},children:e.is_active?a.jsx(ue,{className:"w-4 h-4"}):a.jsx(oe,{className:"w-4 h-4"})}),a.jsx(I,{variant:"ghost",size:"sm",onClick:()=>{S(e),E({name:e.name,position:e.position,academic_background:e.academic_background,leadership_experience:e.leadership_experience,quote:e.quote,image_url:e.image_url,year:e.year})},children:a.jsx(Ne,{className:"w-4 h-4"})}),a.jsxs(gs,{children:[a.jsx(vs,{asChild:!0,children:a.jsx(I,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:a.jsx(we,{className:"w-4 h-4"})})}),a.jsxs(_s,{children:[a.jsxs(Ns,{children:[a.jsx(Ss,{children:"Delete Board Member"}),a.jsxs(ks,{children:['Are you sure you want to delete "',e.name,'"? This action cannot be undone.']})]}),a.jsxs(ws,{children:[a.jsx(Ds,{children:"Cancel"}),a.jsx(Cs,{onClick:()=>(async e=>{try{const{error:s}=await w.from("board_members").delete().eq("id",e);if(s)throw s;R({title:"Success",description:"Board member deleted successfully"}),Ye()}catch(s){R({title:"Error",description:"Failed to delete board member",variant:"destructive"})}})(e.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})})]},e.id))})]})})})]})]}),"constitution"===t&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(D,{children:[a.jsx(F,{children:a.jsxs(q,{className:"flex items-center",children:[a.jsx(xe,{className:"w-5 h-5 mr-2"}),"Add New Constitution Document"]})}),a.jsx(A,{children:a.jsxs("form",{onSubmit:Ke,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(O,{htmlFor:"constitution-title",children:"Title"}),a.jsx(L,{id:"constitution-title",value:Z.title,onChange:e=>K({...Z,title:e.target.value}),placeholder:"Enter document title",required:!0})]}),a.jsxs("div",{children:[a.jsx(O,{htmlFor:"constitution-version",children:"Version"}),a.jsx(L,{id:"constitution-version",value:Z.version,onChange:e=>K({...Z,version:e.target.value}),placeholder:"Enter version number",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(O,{htmlFor:"constitution-file",children:"Document File (PDF)"}),a.jsx(L,{id:"constitution-file",type:"file",accept:"application/pdf",onChange:e=>{var s;return se((null==(s=e.target.files)?void 0:s[0])||null)},required:!0})]}),a.jsxs(I,{type:"submit",disabled:r,children:[a.jsx(xe,{className:"w-4 h-4 mr-2"}),r?"Adding...":"Add Document"]})]})})]}),a.jsxs(D,{children:[a.jsx(F,{children:a.jsxs(q,{className:"flex items-center",children:[a.jsx(de,{className:"w-5 h-5 mr-2"}),"Constitution Documents"]})}),a.jsx(A,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Q.map(e=>a.jsx(D,{children:a.jsxs(A,{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h4",{className:"font-medium",children:e.title}),a.jsx(B,{variant:e.is_current?"default":"secondary",children:e.is_current?"Current":"Archived"})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Version: ",e.version]}),a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsx(B,{variant:new Date(e.created_at).getFullYear()>=(new Date).getFullYear()?"default":"secondary",children:ns(e.created_at)}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-sm",children:"View"}),a.jsxs(gs,{children:[a.jsx(vs,{asChild:!0,children:a.jsx(I,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 p-0 h-auto",children:a.jsx(we,{className:"w-4 h-4"})})}),a.jsxs(_s,{children:[a.jsxs(Ns,{children:[a.jsx(Ss,{children:"Delete Constitution Document"}),a.jsxs(ks,{children:['Are you sure you want to delete "',e.title,'" (Version ',e.version,")? This action cannot be undone."]})]}),a.jsxs(ws,{children:[a.jsx(Ds,{children:"Cancel"}),a.jsx(Cs,{onClick:()=>(async e=>{try{const{error:s}=await w.from("constitution_documents").delete().eq("id",e);if(s)throw s;R({title:"Success",description:"Constitution document deleted successfully"}),Ge()}catch(s){R({title:"Error",description:"Failed to delete constitution document",variant:"destructive"})}})(e.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})]})]})},e.id))})})]})]}),"announcements"===t&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(D,{children:[a.jsx(F,{children:a.jsxs(q,{className:"flex items-center",children:[a.jsx(xe,{className:"w-5 h-5 mr-2"}),"Add New Announcement"]})}),a.jsx(A,{children:a.jsxs("form",{onSubmit:es,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(O,{htmlFor:"announcement-title",children:"Title"}),a.jsx(L,{id:"announcement-title",value:ie.title,onChange:e=>re({...ie,title:e.target.value}),placeholder:"Enter announcement title",required:!0})]}),a.jsxs("div",{children:[a.jsx(O,{htmlFor:"announcement-content",children:"Content"}),a.jsx(V,{id:"announcement-content",value:ie.content,onChange:e=>re({...ie,content:e.target.value}),placeholder:"Enter announcement content",rows:4,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(O,{htmlFor:"announcement-category",children:"Category"}),a.jsxs(H,{value:ie.category,onValueChange:e=>re({...ie,category:e}),children:[a.jsx(Y,{children:a.jsx(G,{placeholder:"Select category"})}),a.jsxs(J,{children:[a.jsx(W,{value:"general",children:"General"}),a.jsx(W,{value:"academic",children:"Academic"}),a.jsx(W,{value:"social",children:"Social"}),a.jsx(W,{value:"administrative",children:"Administrative"}),a.jsx(W,{value:"scholarships",children:"Scholarships"}),a.jsx(W,{value:"jobs",children:"Jobs"}),a.jsx(W,{value:"internships",children:"Internships"}),a.jsx(W,{value:"sports",children:"Sports"}),a.jsx(W,{value:"events",children:"Events"})]})]})]}),a.jsxs("div",{children:[a.jsx(O,{htmlFor:"announcement-image",children:"Images (optional)"}),a.jsx(L,{id:"announcement-image",type:"file",accept:"image/*",multiple:!0,onChange:e=>le(Array.from(e.target.files||[]))}),ne.length>0&&a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[ne.length," image",1!==ne.length?"s":""," selected"]})]})]}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Te,{id:"announcement-featured",checked:ie.featured,onCheckedChange:e=>re({...ie,featured:e})}),a.jsx(O,{htmlFor:"announcement-featured",children:"Featured"})]})}),a.jsxs(I,{type:"submit",disabled:r,children:[a.jsx(xe,{className:"w-4 h-4 mr-2"}),r?"Adding...":"Add Announcement"]})]})})]}),a.jsxs(D,{children:[a.jsx(F,{children:a.jsxs(q,{className:"flex items-center",children:[a.jsx(de,{className:"w-5 h-5 mr-2"}),"Current Announcements"]})}),a.jsx(A,{children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:te.map(e=>a.jsxs(D,{children:[e.image_url&&(()=>{try{const s=JSON.parse(e.image_url);if(Array.isArray(s))return a.jsx("div",{className:"aspect-video bg-gray-100",children:a.jsx("img",{src:s[0],alt:e.title,className:"w-full h-full object-cover"})})}catch{}return a.jsx("div",{className:"aspect-video bg-gray-100",children:a.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"})})})(),a.jsxs(A,{className:"p-3",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h4",{className:"font-medium text-sm",children:e.title}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(B,{variant:"secondary",className:"text-[10px] px-1 py-0",children:e.category}),e.featured&&a.jsx(B,{variant:"default",className:"text-[10px] px-1 py-0",children:"Featured"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3",children:e.content}),a.jsxs("div",{className:"flex justify-between items-center mt-4",children:[a.jsx("span",{className:"text-[10px] text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),a.jsx(I,{variant:"destructive",size:"sm",className:"h-7 w-7 p-0",onClick:()=>(async e=>{try{const{error:s}=await w.from("announcements").delete().eq("id",e);if(s)throw s;R({title:"Success",description:"Announcement deleted successfully"}),Je()}catch(s){R({title:"Error",description:"Failed to delete announcement",variant:"destructive"})}})(e.id),children:a.jsx(we,{className:"w-3 h-3"})})]})]})]},e.id))})})]})]}),"inquiries"===t&&a.jsx("div",{className:"space-y-6",children:a.jsxs(D,{children:[a.jsx(F,{children:a.jsxs(q,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(k,{className:"w-5 h-5 mr-2"}),"Contact Inquiries"]}),a.jsxs(H,{value:be,onValueChange:_e,children:[a.jsx(Y,{className:"w-32",children:a.jsx(G,{placeholder:"Filter by status"})}),a.jsxs(J,{children:[a.jsx(W,{value:"all",children:"All"}),a.jsx(W,{value:"pending",children:"Pending"}),a.jsx(W,{value:"in_progress",children:"In Progress"}),a.jsx(W,{value:"resolved",children:"Resolved"})]})]})]})}),a.jsx(A,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ze,{children:[a.jsx(Le,{children:a.jsxs(Ve,{children:[a.jsx(Be,{children:"Name"}),a.jsx(Be,{children:"Email"}),a.jsx(Be,{children:"Phone"}),a.jsx(Be,{children:"Subject"}),a.jsx(Be,{children:"Message"}),a.jsx(Be,{children:"Status"}),a.jsx(Be,{children:"Date"}),a.jsx(Be,{children:"Actions"})]})}),a.jsx(Oe,{children:is.map(e=>a.jsxs(Ve,{children:[a.jsx(He,{className:"font-medium",children:e.name}),a.jsx(He,{children:e.email}),a.jsx(He,{children:e.phone}),a.jsx(He,{children:e.subject}),a.jsx(He,{children:e.message}),a.jsx(He,{children:a.jsx(B,{variant:"pending"===e.status?"secondary":"resolved"===e.status?"default":"outline",children:e.status.replace("_"," ")})}),a.jsx(He,{children:new Date(e.created_at).toLocaleDateString()}),a.jsx(He,{children:a.jsxs("div",{className:"flex space-x-2",children:["resolved"!==e.status&&a.jsx(I,{size:"sm",onClick:()=>ss(e.id,"resolved"),children:"Mark Resolved"}),"pending"===e.status&&a.jsx(I,{variant:"outline",size:"sm",onClick:()=>ss(e.id,"in_progress"),children:"In Progress"}),a.jsxs(gs,{children:[a.jsx(vs,{asChild:!0,children:a.jsx(I,{variant:"destructive",size:"sm",children:a.jsx(we,{className:"w-4 h-4"})})}),a.jsxs(_s,{children:[a.jsxs(Ns,{children:[a.jsx(Ss,{children:"Delete Inquiry"}),a.jsx(ks,{children:"Are you sure you want to delete this inquiry? This action cannot be undone."})]}),a.jsxs(ws,{children:[a.jsx(Ds,{children:"Cancel"}),a.jsx(Cs,{onClick:()=>(async e=>{try{const{error:s}=await w.from("contact_inquiries").delete().eq("id",e);if(s)throw s;R({title:"Success",description:"Inquiry deleted successfully"}),We(),Ue()}catch(s){R({title:"Error",description:"Failed to delete inquiry",variant:"destructive"})}})(e.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})})]},e.id))})]})})})]})}),"assistance"===t&&a.jsx("div",{className:"space-y-6",children:a.jsxs(D,{children:[a.jsx(F,{children:a.jsxs(q,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx($,{className:"w-5 h-5 mr-2"}),"Assistance Requests"]}),a.jsxs(H,{value:Fe,onValueChange:qe,children:[a.jsx(Y,{className:"w-32",children:a.jsx(G,{placeholder:"Filter by status"})}),a.jsxs(J,{children:[a.jsx(W,{value:"all",children:"All"}),a.jsx(W,{value:"pending",children:"Pending"}),a.jsx(W,{value:"in_progress",children:"In Progress"}),a.jsx(W,{value:"resolved",children:"Resolved"})]})]})]})}),a.jsx(A,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ze,{children:[a.jsx(Le,{children:a.jsxs(Ve,{children:[a.jsx(Be,{children:"Student"}),a.jsx(Be,{children:"Request"}),a.jsx(Be,{children:"Urgency"}),a.jsx(Be,{children:"Status"}),a.jsx(Be,{children:"Date"}),a.jsx(Be,{children:"Actions"})]})}),a.jsx(Oe,{children:rs.map(e=>{var s,t;return a.jsxs(Ve,{children:[a.jsx(He,{children:a.jsxs(I,{variant:"link",className:"p-0 h-auto text-left",onClick:()=>{Pe(e.student_id),Me(!0)},children:[null==(s=e.profiles)?void 0:s.first_name," ",null==(t=e.profiles)?void 0:t.last_name]})}),a.jsx(He,{children:a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium",children:e.title}),a.jsx("div",{className:"text-muted-foreground",children:e.request_type})]})}),a.jsx(He,{children:a.jsx(B,{variant:"outline",children:e.urgency_level})}),a.jsx(He,{children:a.jsx(B,{variant:"pending"===e.status?"secondary":"resolved"===e.status?"default":"outline",children:e.status.replace("_"," ")})}),a.jsx(He,{children:new Date(e.created_at).toLocaleDateString()}),a.jsx(He,{children:a.jsxs("div",{className:"flex space-x-2",children:["resolved"!==e.status&&a.jsx(I,{size:"sm",onClick:()=>ts(e.id,"resolved"),children:"Resolve"}),"pending"===e.status&&a.jsx(I,{variant:"outline",size:"sm",onClick:()=>ts(e.id,"in_progress"),children:"In Progress"})]})})]},e.id)})})]})})})]})}),"finance"===t&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(D,{children:[a.jsx(F,{children:a.jsxs(q,{className:"flex items-center",children:[a.jsx(ge,{className:"w-5 h-5 mr-2"}),"Bank Transfer Details"]})}),a.jsxs(A,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(O,{children:"Bank Name"}),a.jsx(L,{value:Ae.bank_transfer_details.bank_name,onChange:e=>Ee({...Ae,bank_transfer_details:{...Ae.bank_transfer_details,bank_name:e.target.value}}),placeholder:"Enter bank name"})]}),a.jsxs("div",{children:[a.jsx(O,{children:"Account Name"}),a.jsx(L,{value:Ae.bank_transfer_details.account_name,onChange:e=>Ee({...Ae,bank_transfer_details:{...Ae.bank_transfer_details,account_name:e.target.value}}),placeholder:"Enter account name"})]}),a.jsxs("div",{children:[a.jsx(O,{children:"Account Number"}),a.jsx(L,{value:Ae.bank_transfer_details.account_number,onChange:e=>Ee({...Ae,bank_transfer_details:{...Ae.bank_transfer_details,account_number:e.target.value}}),placeholder:"Enter account number"})]}),a.jsxs("div",{children:[a.jsx(O,{children:"SWIFT Code"}),a.jsx(L,{value:Ae.bank_transfer_details.swift_code,onChange:e=>Ee({...Ae,bank_transfer_details:{...Ae.bank_transfer_details,swift_code:e.target.value}}),placeholder:"Enter SWIFT code"})]}),a.jsxs("div",{children:[a.jsx(O,{children:"UPI ID"}),a.jsx(L,{value:Ae.bank_transfer_details.upi_id,onChange:e=>Ee({...Ae,bank_transfer_details:{...Ae.bank_transfer_details,upi_id:e.target.value}}),placeholder:"Enter UPI ID"})]})]}),a.jsx(I,{onClick:()=>as("bank_transfer_details"),disabled:r,children:r?"Saving...":"Save Bank Details"})]})]}),a.jsxs(D,{children:[a.jsx(F,{children:a.jsxs(q,{className:"flex items-center",children:[a.jsx(ve,{className:"w-5 h-5 mr-2"}),"Mobile Money Details"]})}),a.jsxs(A,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(O,{children:"Provider"}),a.jsx(L,{value:Ae.mobile_money_details.provider,onChange:e=>Ee({...Ae,mobile_money_details:{...Ae.mobile_money_details,provider:e.target.value}}),placeholder:"Enter provider (e.g. MTN)"})]}),a.jsxs("div",{children:[a.jsx(O,{children:"Mobile Number"}),a.jsx(L,{value:Ae.mobile_money_details.number,onChange:e=>Ee({...Ae,mobile_money_details:{...Ae.mobile_money_details,number:e.target.value}}),placeholder:"Enter mobile number"})]}),a.jsxs("div",{children:[a.jsx(O,{children:"Account Name"}),a.jsx(L,{value:Ae.mobile_money_details.name,onChange:e=>Ee({...Ae,mobile_money_details:{...Ae.mobile_money_details,name:e.target.value}}),placeholder:"Enter account name"})]})]}),a.jsx(I,{onClick:()=>as("mobile_money_details"),disabled:r,children:r?"Saving...":"Save Mobile Money Details"})]})]}),a.jsxs(D,{children:[a.jsx(F,{children:a.jsxs(q,{className:"flex items-center",children:[a.jsx(k,{className:"w-5 h-5 mr-2"}),"Contact Details"]})}),a.jsxs(A,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(O,{children:"Treasurer Name"}),a.jsx(L,{value:Ae.contact_details.treasurer_name,onChange:e=>Ee({...Ae,contact_details:{...Ae.contact_details,treasurer_name:e.target.value}}),placeholder:"Enter treasurer name"})]}),a.jsxs("div",{children:[a.jsx(O,{children:"Treasurer Email"}),a.jsx(L,{type:"email",value:Ae.contact_details.treasurer_email,onChange:e=>Ee({...Ae,contact_details:{...Ae.contact_details,treasurer_email:e.target.value}}),placeholder:"Enter treasurer email"})]}),a.jsxs("div",{children:[a.jsx(O,{children:"Treasurer Phone"}),a.jsx(L,{value:Ae.contact_details.treasurer_phone,onChange:e=>Ee({...Ae,contact_details:{...Ae.contact_details,treasurer_phone:e.target.value}}),placeholder:"Enter treasurer phone"})]}),a.jsxs("div",{children:[a.jsx(O,{children:"Finance Email"}),a.jsx(L,{type:"email",value:Ae.contact_details.finance_email,onChange:e=>Ee({...Ae,contact_details:{...Ae.contact_details,finance_email:e.target.value}}),placeholder:"Enter finance email"})]})]}),a.jsx(I,{onClick:()=>as("contact_details"),disabled:r,children:r?"Saving...":"Save Contact Details"})]})]})]}),"gallery"===t&&a.jsx(Is,{}),"hero"===t&&a.jsx(As,{}),"platform"===t&&a.jsx(Es,{})]}),a.jsx(Fs,{studentId:Ie,open:Re,onClose:()=>{Me(!1),Pe(null)}})]})})}Ds.displayName=js.displayName;export{Ps as default};
