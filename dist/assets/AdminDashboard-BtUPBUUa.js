import{c as e,u as s,H as t,j as a,d as i,e as r,J as n,K as l,M as c,N as d,O as o,W as m,Q as h,S as u,U as x,X as j,Y as p,Z as f,_ as g}from"./radix-ui-BhA1LbKn.js";import{r as v,u as y}from"./react-vendor-B1bUijmx.js";import{c as N,m as _,n as b,s as w,U as S,k as C,P as k,C as D,b as E,d as A,e as q,M as F,B as I,u as P,t as R,f as M,S as $,T as U,h as O,L as T}from"./index-CRPRT7Ob.js";import{I as z}from"./input-BBdXW6UI.js";import{L}from"./label-bVOoOlT-.js";import{T as V}from"./textarea-BWoK1MqN.js";import{B}from"./badge-BBGM62l1.js";import{S as H,a as G,b as Y,c as J,d as Q}from"./select-COfdfeGS.js";import{A as W,a as X,b as Z}from"./avatar-C7SJqqZD.js";import{D as K,a as ee,b as se,c as te,e as ae}from"./dialog-DFBG-Wmc.js";import{S as ie,B as re}from"./separator-DNMtkpko.js";import{C as ne}from"./circle-check-big-Ds7JDR5B.js";import{C as le}from"./clock-DBfzgY0x.js";import{G as ce}from"./graduation-cap-DCO04xg2.js";import{L as de}from"./linkedin-IpLhpEr6.js";import{C as oe}from"./calendar-B1DUrkPc.js";import{F as me}from"./file-text-B7LfWtSB.js";import{a as he,U as ue,E as xe}from"./upload-COVmsv66.js";import{L as je}from"./loader-circle-Ck_Ta4Y7.js";import{P as pe}from"./plus-76Qvxzeh.js";import{I as fe}from"./image-DYLKVTmU.js";import{T as ge,a as ve,b as ye,c as Ne}from"./tabs-CN3XS-3r.js";import{f as _e}from"./utils-DjG4pwKl.js";import{U as be}from"./users-IBbRgan4.js";import{S as we}from"./shield-D66hZTXg.js";import{C as Se,S as Ce}from"./smartphone-CTaTa_TB.js";import"./supabase-C_IPIGZD.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=N("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),De=N("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ee=N("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ae=N("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),qe=N("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Fe=N("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ie=N("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Pe=N("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Re="Switch",[Me,$e]=e(Re),[Ue,Oe]=Me(Re),Te=v.forwardRef((e,n)=>{const{__scopeSwitch:l,name:c,checked:d,defaultChecked:o,required:m,disabled:h,value:u="on",onCheckedChange:x,form:j,...p}=e,[f,g]=v.useState(null),y=s(n,e=>g(e)),N=v.useRef(!1),_=!f||(j||!!f.closest("form")),[b=!1,w]=t({prop:d,defaultProp:o,onChange:x});return a.jsxs(Ue,{scope:l,checked:b,disabled:h,children:[a.jsx(i.button,{type:"button",role:"switch","aria-checked":b,"aria-required":m,"data-state":Be(b),"data-disabled":h?"":void 0,disabled:h,value:u,...p,ref:y,onClick:r(e.onClick,e=>{w(e=>!e),_&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),_&&a.jsx(Ve,{control:f,bubbles:!N.current,name:c,value:u,checked:b,required:m,disabled:h,form:j,style:{transform:"translateX(-100%)"}})]})});Te.displayName=Re;var ze="SwitchThumb",Le=v.forwardRef((e,s)=>{const{__scopeSwitch:t,...r}=e,n=Oe(ze,t);return a.jsx(i.span,{"data-state":Be(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:s})});Le.displayName=ze;var Ve=e=>{const{control:s,checked:t,bubbles:i=!0,...r}=e,c=v.useRef(null),d=n(t),o=l(s);return v.useEffect(()=>{const e=c.current,s=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(s,"checked").set;if(d!==t&&a){const s=new Event("click",{bubbles:i});a.call(e,t),e.dispatchEvent(s)}},[d,t,i]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...r,tabIndex:-1,ref:c,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Be(e){return e?"checked":"unchecked"}var He=Te,Ge=Le;const Ye=v.forwardRef(({className:e,...s},t)=>a.jsx(He,{className:_("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:t,children:a.jsx(Ge,{className:_("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ye.displayName=He.displayName;const Je=v.forwardRef(({className:e,...s},t)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:t,className:_("w-full caption-bottom text-sm",e),...s})}));Je.displayName="Table";const Qe=v.forwardRef(({className:e,...s},t)=>a.jsx("thead",{ref:t,className:_("[&_tr]:border-b",e),...s}));Qe.displayName="TableHeader";const We=v.forwardRef(({className:e,...s},t)=>a.jsx("tbody",{ref:t,className:_("[&_tr:last-child]:border-0",e),...s}));We.displayName="TableBody";v.forwardRef(({className:e,...s},t)=>a.jsx("tfoot",{ref:t,className:_("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";const Xe=v.forwardRef(({className:e,...s},t)=>a.jsx("tr",{ref:t,className:_("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));Xe.displayName="TableRow";const Ze=v.forwardRef(({className:e,...s},t)=>a.jsx("th",{ref:t,className:_("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));Ze.displayName="TableHead";const Ke=v.forwardRef(({className:e,...s},t)=>a.jsx("td",{ref:t,className:_("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));Ke.displayName="TableCell";v.forwardRef(({className:e,...s},t)=>a.jsx("caption",{ref:t,className:_("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption";var es="AlertDialog",[ss,ts]=e(es,[c]),as=c(),is=e=>{const{__scopeAlertDialog:s,...t}=e,i=as(s);return a.jsx(f,{...i,...t,modal:!0})};is.displayName=es;var rs=v.forwardRef((e,s)=>{const{__scopeAlertDialog:t,...i}=e,r=as(t);return a.jsx(d,{...r,...i,ref:s})});rs.displayName="AlertDialogTrigger";var ns=e=>{const{__scopeAlertDialog:s,...t}=e,i=as(s);return a.jsx(g,{...i,...t})};ns.displayName="AlertDialogPortal";var ls=v.forwardRef((e,s)=>{const{__scopeAlertDialog:t,...i}=e,r=as(t);return a.jsx(o,{...r,...i,ref:s})});ls.displayName="AlertDialogOverlay";var cs="AlertDialogContent",[ds,os]=ss(cs),ms=v.forwardRef((e,t)=>{const{__scopeAlertDialog:i,children:n,...l}=e,c=as(i),d=v.useRef(null),o=s(t,d),x=v.useRef(null);return a.jsx(m,{contentName:cs,titleName:hs,docsSlug:"alert-dialog",children:a.jsx(ds,{scope:i,cancelRef:x,children:a.jsxs(h,{role:"alertdialog",...c,...l,ref:o,onOpenAutoFocus:r(l.onOpenAutoFocus,e=>{var s;e.preventDefault(),null==(s=x.current)||s.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[a.jsx(u,{children:n}),a.jsx(vs,{contentRef:d})]})})})});ms.displayName=cs;var hs="AlertDialogTitle",us=v.forwardRef((e,s)=>{const{__scopeAlertDialog:t,...i}=e,r=as(t);return a.jsx(x,{...r,...i,ref:s})});us.displayName=hs;var xs="AlertDialogDescription",js=v.forwardRef((e,s)=>{const{__scopeAlertDialog:t,...i}=e,r=as(t);return a.jsx(j,{...r,...i,ref:s})});js.displayName=xs;var ps=v.forwardRef((e,s)=>{const{__scopeAlertDialog:t,...i}=e,r=as(t);return a.jsx(p,{...r,...i,ref:s})});ps.displayName="AlertDialogAction";var fs="AlertDialogCancel",gs=v.forwardRef((e,t)=>{const{__scopeAlertDialog:i,...r}=e,{cancelRef:n}=os(fs,i),l=as(i),c=s(t,n);return a.jsx(p,{...l,...r,ref:c})});gs.displayName=fs;var vs=({contentRef:e})=>{const s=`\`${cs}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${cs}\` by passing a \`${xs}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${cs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var s;document.getElementById(null==(s=e.current)?void 0:s.getAttribute("aria-describedby"))},[s,e]),null},ys=ls,Ns=ms,_s=ps,bs=gs,ws=us,Ss=js;const Cs=is,ks=rs,Ds=ns,Es=v.forwardRef(({className:e,...s},t)=>a.jsx(ys,{className:_("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:t}));Es.displayName=ys.displayName;const As=v.forwardRef(({className:e,...s},t)=>a.jsxs(Ds,{children:[a.jsx(Es,{}),a.jsx(Ns,{ref:t,className:_("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s})]}));As.displayName=Ns.displayName;const qs=({className:e,...s})=>a.jsx("div",{className:_("flex flex-col space-y-2 text-center sm:text-left",e),...s});qs.displayName="AlertDialogHeader";const Fs=({className:e,...s})=>a.jsx("div",{className:_("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});Fs.displayName="AlertDialogFooter";const Is=v.forwardRef(({className:e,...s},t)=>a.jsx(ws,{ref:t,className:_("text-lg font-semibold",e),...s}));Is.displayName=ws.displayName;const Ps=v.forwardRef(({className:e,...s},t)=>a.jsx(Ss,{ref:t,className:_("text-sm text-muted-foreground",e),...s}));Ps.displayName=Ss.displayName;const Rs=v.forwardRef(({className:e,...s},t)=>a.jsx(_s,{ref:t,className:_(b(),e),...s}));Rs.displayName=_s.displayName;const Ms=v.forwardRef(({className:e,...s},t)=>a.jsx(bs,{ref:t,className:_(b({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));function $s({studentId:e,open:s,onClose:t}){const[i,r]=v.useState(null),[n,l]=v.useState(!1);v.useEffect(()=>{e&&s&&c()},[e,s]);const c=async()=>{if(e){l(!0);try{const{data:s,error:t}=await w.from("profiles").select("*").eq("id",e).single();s&&!t&&r(s)}catch(s){}finally{l(!1)}}};return i||n?a.jsx(K,{open:s,onOpenChange:t,children:a.jsxs(ee,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(se,{children:a.jsxs(te,{className:"flex items-center gap-2",children:[a.jsx(S,{className:"w-5 h-5"}),"Student Profile Details"]})}),n?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx("div",{className:"flex-shrink-0",children:i.profile_image_url?a.jsx("img",{src:i.profile_image_url,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-border"}):a.jsx("div",{className:"w-24 h-24 rounded-full bg-muted flex items-center justify-center",children:a.jsx(S,{className:"w-12 h-12 text-muted-foreground"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold",children:[i.first_name," ",i.last_name]}),a.jsx(B,{variant:i.is_verified?"default":"secondary",children:i.is_verified?a.jsxs(a.Fragment,{children:[a.jsx(ne,{className:"w-3 h-3 mr-1"}),"Verified"]}):a.jsxs(a.Fragment,{children:[a.jsx(le,{className:"w-3 h-3 mr-1"}),"Pending"]})})]}),a.jsxs("div",{className:"space-y-1 text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(C,{className:"w-4 h-4"}),i.email]}),i.whatsapp_number&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(k,{className:"w-4 h-4"}),i.whatsapp_number," (WhatsApp)"]}),i.university&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{className:"w-4 h-4"}),i.university]}),i.linkedin_url&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(de,{className:"w-4 h-4"}),i.linkedin_url]})]})]})]}),a.jsx(ie,{}),a.jsxs(D,{children:[a.jsx(E,{children:a.jsx(A,{children:"Personal Information"})}),a.jsxs(q,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.date_of_birth&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Date of Birth"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(oe,{className:"w-4 h-4"}),new Date(i.date_of_birth).toLocaleDateString()]})]}),i.gender&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Gender"}),a.jsx("p",{className:"mt-1",children:i.gender})]}),i.marital_status&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Marital Status"}),a.jsx("p",{className:"mt-1",children:i.marital_status})]})]})]}),a.jsxs(D,{children:[a.jsx(E,{children:a.jsx(A,{children:"Academic Information"})}),a.jsxs(q,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.level_of_study&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Level of Study"}),a.jsx("p",{className:"mt-1",children:i.level_of_study})]}),i.university&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"University Name"}),a.jsx("p",{className:"mt-1",children:i.university})]}),i.major&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Major"}),a.jsx("p",{className:"mt-1",children:i.major})]}),i.year_of_enrollment&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Year of Enrollment"}),a.jsx("p",{className:"mt-1",children:i.year_of_enrollment})]}),i.expected_completion_year&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Expected Completion"}),a.jsx("p",{className:"mt-1",children:i.expected_completion_year})]}),i.year_of_study&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Current Year of Study"}),a.jsxs("p",{className:"mt-1",children:[i.year_of_study," year(s)"]})]})]})]}),a.jsxs(D,{children:[a.jsx(E,{children:a.jsx(A,{children:"Address Information"})}),a.jsxs(q,{className:"space-y-4",children:[(i.india_city||i.india_state)&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Germany Address"}),a.jsxs("div",{className:"flex items-start gap-2 mt-1",children:[a.jsx(F,{className:"w-4 h-4 mt-0.5"}),a.jsxs("div",{children:[a.jsxs("p",{children:[i.india_city&&`${i.india_city}, `,i.india_state&&`${i.india_state} `,i.india_pincode]}),i.india_phone&&a.jsxs("p",{children:["Phone: ",i.india_phone]})]})]})]}),(i.ghana_city||i.ghana_region)&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Ghana Address"}),a.jsxs("div",{className:"flex items-start gap-2 mt-1",children:[a.jsx(F,{className:"w-4 h-4 mt-0.5"}),a.jsxs("div",{children:[a.jsxs("p",{children:[i.ghana_city&&`${i.ghana_city}, `,i.ghana_region&&`${i.ghana_region} `,i.ghana_pincode]}),i.ghana_mobile_number&&a.jsxs("p",{children:["Phone: ",i.ghana_mobile_number]})]})]})]})]})]}),i.emergency_contact_name&&a.jsxs(D,{children:[a.jsx(E,{children:a.jsx(A,{children:"Emergency Contact"})}),a.jsxs(q,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),a.jsx("p",{className:"mt-1",children:i.emergency_contact_name})]}),i.emergency_contact_relationship&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Relationship"}),a.jsx("p",{className:"mt-1",children:i.emergency_contact_relationship})]}),i.emergency_contact_number&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Contact Number"}),a.jsx("p",{className:"mt-1",children:i.emergency_contact_number})]})]})]}),i.passport_document_url&&a.jsxs(D,{children:[a.jsx(E,{children:a.jsx(A,{children:"Documents"})}),a.jsx(q,{children:a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{className:"w-5 h-5"}),a.jsx("span",{children:"Passport Document"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(I,{variant:"outline",size:"sm",onClick:()=>window.open(i.passport_document_url,"_blank"),children:[a.jsx(Ae,{className:"w-4 h-4 mr-2"}),"View"]}),a.jsxs(I,{variant:"outline",size:"sm",onClick:()=>(async(e,s)=>{try{const t=await fetch(e),a=await t.blob(),i=window.URL.createObjectURL(a),r=document.createElement("a");r.href=i,r.download=s,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(i)}catch(t){}})(i.passport_document_url,"passport.pdf"),children:[a.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})})]}),i.bio&&a.jsxs(D,{children:[a.jsx(E,{children:a.jsx(A,{children:"Bio"})}),a.jsx(q,{children:a.jsx("p",{className:"text-muted-foreground",children:i.bio})})]})]}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Student not found"})})]})}):null}function Us({onStatsUpdate:e}){const[s,t]=v.useState([]),[i,r]=v.useState(!0),[n,l]=v.useState(null),[c,d]=v.useState(!1),[o,m]=v.useState(null),[h,u]=v.useState("all"),[x,j]=v.useState("all"),[p,f]=v.useState(""),[g,y]=v.useState("");v.useState("");const[N,_]=v.useState(""),{user:b}=P();v.useEffect(()=>{S()},[]);const S=async()=>{r(!0);try{const{data:e,error:s}=await w.from("profiles").select("id, email, first_name, last_name, university, is_verified, created_at, profile_image_url, role, india_state, year_of_enrollment");if(s)throw s;t(e||[])}catch(e){R({title:"Error",description:"Failed to load student data",variant:"destructive"})}finally{r(!1)}},C=s.filter(e=>{const s="all"===h||e.role===h,t="all"===x||"verified"===x&&e.is_verified||"pending"===x&&!e.is_verified,a=!p||e.university&&e.university.toLowerCase().includes(p.toLowerCase()),i=!g||e.india_state&&e.india_state.toLowerCase().includes(g.toLowerCase()),r=!N||e.first_name&&e.first_name.toLowerCase().includes(N.toLowerCase())||e.last_name&&e.last_name.toLowerCase().includes(N.toLowerCase());return s&&t&&a&&i&&r}),k=e=>{l(e),d(!0)};if(i)return a.jsxs(D,{children:[a.jsx(E,{children:a.jsx(A,{children:"Account Verification"})}),a.jsx(q,{children:a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]});return a.jsxs(a.Fragment,{children:[a.jsxs(D,{children:[a.jsxs(E,{children:[a.jsx(A,{children:"Account Verification"}),a.jsx(M,{children:"Manage user account verification status and roles"})]}),a.jsxs(q,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Role"}),a.jsxs(H,{value:h,onValueChange:u,children:[a.jsx(G,{className:"w-full",children:a.jsx(Y,{placeholder:"All Roles"})}),a.jsxs(J,{children:[a.jsx(Q,{value:"all",children:"All Roles"}),a.jsx(Q,{value:"student",children:"Student"}),a.jsx(Q,{value:"admin",children:"Admin"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),a.jsxs(H,{value:x,onValueChange:j,children:[a.jsx(G,{className:"w-full",children:a.jsx(Y,{placeholder:"All Status"})}),a.jsxs(J,{children:[a.jsx(Q,{value:"all",children:"All Status"}),a.jsx(Q,{value:"verified",children:"Verified"}),a.jsx(Q,{value:"pending",children:"Pending"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"University"}),a.jsx(z,{placeholder:"Filter by university...",value:p,onChange:e=>f(e.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"State"}),a.jsx(z,{placeholder:"Filter by state...",value:g,onChange:e=>y(e.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Name"}),a.jsx(z,{type:"text",placeholder:"e.g., Mark Febirir",value:N,onChange:e=>_(e.target.value)})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Je,{children:[a.jsx(Qe,{children:a.jsxs(Xe,{children:[a.jsx(Ze,{children:"Photo"}),a.jsx(Ze,{children:"Name"}),a.jsx(Ze,{children:"Email"}),a.jsx(Ze,{children:"Role"}),a.jsx(Ze,{children:"University"}),a.jsx(Ze,{children:"State"}),a.jsx(Ze,{children:"Status"}),a.jsx(Ze,{children:"Joined"}),a.jsx(Ze,{children:"Actions"})]})}),a.jsx(We,{children:C.map(e=>{var s,t;return a.jsxs(Xe,{children:[a.jsx(Ke,{children:a.jsxs(W,{className:"w-10 h-10",children:[a.jsx(X,{src:e.profile_image_url||"/icon.png",alt:`${e.first_name} ${e.last_name}`,className:"object-cover"}),a.jsxs(Z,{className:"text-xs",children:[null==(s=e.first_name)?void 0:s[0],null==(t=e.last_name)?void 0:t[0]]})]})}),a.jsx(Ke,{children:a.jsxs("button",{onClick:()=>k(e),className:"text-left hover:text-primary hover:underline font-medium",children:[e.first_name," ",e.last_name]})}),a.jsx(Ke,{children:e.email}),a.jsx(Ke,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ye,{checked:"admin"===e.role||!1,onCheckedChange:s=>async function(e,s){try{if(b&&e===b.id)return void R({title:"Error",description:"You cannot change your own account role!",variant:"destructive"});const t=s?"admin":"student",{error:a}=await w.from("profiles").update({role:t}).eq("id",e);if(a)throw a;R({title:"Success",description:`Role updated to ${t} successfully!`}),S()}catch(t){R({title:"Error",description:"Failed to update role",variant:"destructive"})}}(e.id,s)}),a.jsx("span",{className:"text-sm",children:"admin"===e.role?a.jsxs("span",{className:"flex items-center text-green-600",children:[a.jsx(ne,{className:"w-4 h-4 mr-1"}),"Admin"]}):a.jsxs("span",{className:"flex items-center text-yellow-600",children:[a.jsx(le,{className:"w-4 h-4 mr-1"}),"Student"]})})]})}),a.jsx(Ke,{children:e.university||"Not specified"}),a.jsx(Ke,{children:e.india_state||"Not specified"}),a.jsx(Ke,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ye,{checked:e.is_verified||!1,onCheckedChange:s=>(async(e,s)=>{try{if(b&&e===b.id)return void R({title:"Error",description:"You cannot unverifiy your own account!",variant:"destructive"});const{error:t}=await w.from("profiles").update({is_verified:s}).eq("id",e);if(t)throw t;R({title:"Success",description:`Student ${s?"verified":"unverified"} successfully!`}),S()}catch(t){R({title:"Error",description:"Failed to update verification status",variant:"destructive"})}})(e.id,s)}),a.jsx("span",{className:"text-sm",children:e.is_verified?a.jsxs("span",{className:"flex items-center text-green-600",children:[a.jsx(ne,{className:"w-4 h-4 mr-1"}),"Verified"]}):a.jsxs("span",{className:"flex items-center text-yellow-600",children:[a.jsx(le,{className:"w-4 h-4 mr-1"}),"Pending"]})})]})}),a.jsx(Ke,{children:new Date(e.created_at||"").toLocaleDateString()}),a.jsx(Ke,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(I,{variant:"ghost",size:"sm",onClick:()=>k(e),children:a.jsx(he,{className:"w-4 h-4"})}),a.jsx(I,{variant:"ghost",size:"sm",onClick:()=>m(e),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:a.jsx(Fe,{className:"w-4 h-4"})})]})})]},e.id)})})]})})]})]}),n&&a.jsx($s,{studentId:n.id,open:c,onClose:()=>{d(!1),l(null)}}),a.jsx(Cs,{open:!!o,onOpenChange:()=>m(null),children:a.jsxs(As,{children:[a.jsxs(qs,{children:[a.jsx(Is,{children:"Delete User Account"}),a.jsxs(Ps,{children:["Are you sure you want to delete the account for"," ",a.jsxs("span",{className:"font-semibold",children:[null==o?void 0:o.first_name," ",null==o?void 0:o.last_name]}),"? This action cannot be undone and will permanently remove all user data."]})]}),a.jsxs(Fs,{children:[a.jsx(Ms,{children:"Cancel"}),a.jsx(Rs,{onClick:()=>o&&(async e=>{try{if(b&&e===b.id)return void R({title:"Error",description:"You cannot delete your own account!",variant:"destructive"});await Promise.all([w.from("assistance_requests").delete().eq("student_id",e),w.from("messages").delete().eq("sender_id",e),w.from("messages").delete().eq("recipient_id",e),w.from("community_messages").delete().eq("sender_id",e),w.from("admin_approvals").delete().eq("applicant_id",e)]);const{error:s}=await w.from("profiles").delete().eq("id",e);if(s)throw s;const{error:t}=await w.auth.admin.deleteUser(e);R({title:"Success",description:"User deleted successfully!"}),m(null),S()}catch(s){R({title:"Error",description:"Failed to delete user",variant:"destructive"})}})(o.id),className:"bg-red-600 hover:bg-red-700",children:"Delete Account"})]})]})})]})}function Os(){const[e,s]=v.useState([]),[t,i]=v.useState(!0),[r,n]=v.useState(!1),[l,c]=v.useState(null),[d,o]=v.useState("");v.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:e,error:t}=await w.from("hero_images").select("*").order("order_priority",{ascending:!0});if(t)throw t;s(e||[])}catch(e){R({title:"Error",description:"Failed to load hero images",variant:"destructive"})}finally{i(!1)}};return t?a.jsxs(D,{children:[a.jsx(E,{children:a.jsx(A,{children:"Hero Slideshow Manager"})}),a.jsx(q,{children:a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):a.jsxs(D,{children:[a.jsxs(E,{children:[a.jsx(A,{children:"Hero Slideshow Manager"}),a.jsx(M,{children:"Manage hero section background images for the homepage slideshow"})]}),a.jsxs(q,{className:"space-y-6",children:[a.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),l&&d){n(!0);try{const s=l.name.split(".").pop(),t=`hero-${Date.now()}.${s}`,{error:a}=await w.storage.from("hero-images").upload(t,l);if(a)throw a;const{data:{publicUrl:i}}=w.storage.from("hero-images").getPublicUrl(t),{error:r}=await w.from("hero_images").insert({title:d,image_url:i,is_active:!0,order_priority:e.length+1});if(r)throw r;R({title:"Success",description:"Hero image uploaded successfully!"}),c(null),o(""),m()}catch(t){R({title:"Error",description:"Failed to upload hero image",variant:"destructive"})}finally{n(!1)}}else R({title:"Error",description:"Please select an image and provide a title",variant:"destructive"})},className:"space-y-4 p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-semibold",children:"Upload New Hero Image"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(L,{htmlFor:"hero-title",children:"Image Title"}),a.jsx(z,{id:"hero-title",value:d,onChange:e=>o(e.target.value),placeholder:"Enter image title",required:!0})]}),a.jsxs("div",{children:[a.jsx(L,{htmlFor:"hero-image",children:"Select Image"}),a.jsx(z,{id:"hero-image",type:"file",accept:"image/*",onChange:e=>{var s;return c((null==(s=e.target.files)?void 0:s[0])||null)},required:!0})]})]}),a.jsxs(I,{type:"submit",disabled:r,children:[a.jsx(ue,{className:"w-4 h-4 mr-2"}),r?"Uploading...":"Upload Image"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Current Hero Images"}),0===e.length?a.jsx("p",{className:"text-muted-foreground",children:"No hero images uploaded yet."}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>a.jsxs(D,{className:"overflow-hidden",children:[a.jsx("div",{className:"aspect-video bg-gray-100",children:a.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"})}),a.jsxs(q,{className:"p-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:e.title}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ye,{checked:e.is_active,onCheckedChange:s=>(async(e,s)=>{try{const{error:t}=await w.from("hero_images").update({is_active:s}).eq("id",e);if(t)throw t;R({title:"Success",description:`Image ${s?"activated":"deactivated"} successfully`}),m()}catch(t){R({title:"Error",description:"Failed to update image status",variant:"destructive"})}})(e.id,s)}),a.jsx("span",{className:"text-sm",children:e.is_active?a.jsxs("span",{className:"flex items-center text-green-600",children:[a.jsx(he,{className:"w-4 h-4 mr-1"}),"Active"]}):a.jsxs("span",{className:"flex items-center text-gray-500",children:[a.jsx(xe,{className:"w-4 h-4 mr-1"}),"Inactive"]})})]}),a.jsxs(Cs,{children:[a.jsx(ks,{asChild:!0,children:a.jsx(I,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:a.jsx(Fe,{className:"w-4 h-4"})})}),a.jsxs(As,{children:[a.jsxs(qs,{children:[a.jsx(Is,{children:"Delete Hero Image"}),a.jsxs(Ps,{children:['Are you sure you want to delete "',e.title,'"? This action cannot be undone.']})]}),a.jsxs(Fs,{children:[a.jsx(Ms,{children:"Cancel"}),a.jsx(Rs,{onClick:()=>(async(e,s)=>{try{const t=s.split("/").pop();t&&await w.storage.from("hero-images").remove([t]);const{error:a}=await w.from("hero_images").delete().eq("id",e);if(a)throw a;R({title:"Success",description:"Hero image deleted successfully"}),m()}catch(t){R({title:"Error",description:"Failed to delete hero image",variant:"destructive"})}})(e.id,e.image_url),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})]})]},e.id))})]})]})]})}function Ts(){const{user:e}=P(),[s,t]=v.useState({maintenance_mode:!1,allow_registrations:!0,email_notifications:!0}),[i,r]=v.useState(!0),[n,l]=v.useState(!1),[c,d]=v.useState(!1);v.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:e,error:s}=await w.from("platform_settings").select("setting_key, setting_value");if(s)throw s;const a={};null==e||e.forEach(({setting_key:e,setting_value:s})=>{a[e]="true"===s||!0===s}),t(a)}catch(e){R({title:"Error",description:"Failed to load platform settings",variant:"destructive"})}finally{r(!1)}},m=async(s,a)=>{l(!0);try{const{error:i}=await w.from("platform_settings").update({setting_value:a.toString(),updated_by:null==e?void 0:e.id,updated_at:(new Date).toISOString()}).eq("setting_key",s);if(i)throw i;t(e=>({...e,[s]:a})),R({title:"Success",description:`${s.replace("_"," ")} ${a?"enabled":"disabled"} successfully`})}catch(i){R({title:"Error",description:"Failed to update setting",variant:"destructive"})}finally{l(!1)}};return i?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx(je,{className:"w-8 h-8 animate-spin text-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(D,{children:[a.jsxs(E,{children:[a.jsxs(A,{className:"flex items-center",children:[a.jsx($,{className:"w-5 h-5 mr-2"}),"Platform Settings"]}),a.jsx(M,{children:"Control system-wide platform behavior and features"})]}),a.jsxs(q,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-card hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"space-y-0.5 flex-1",children:[a.jsx(L,{htmlFor:"maintenance-mode",className:"text-base font-medium cursor-pointer",children:"Maintenance Mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Restrict platform access to admins only during maintenance"}),s.maintenance_mode&&a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-amber-600",children:[a.jsx(U,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-medium",children:"⚠️ Platform is in maintenance mode"})]})]}),a.jsx(Ye,{id:"maintenance-mode",checked:s.maintenance_mode,onCheckedChange:e=>m("maintenance_mode",e),disabled:n})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-card hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"space-y-0.5 flex-1",children:[a.jsx(L,{htmlFor:"allow-registrations",className:"text-base font-medium cursor-pointer",children:"Allow New Registrations"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable or disable new user sign-ups on the platform"})]}),a.jsx(Ye,{id:"allow-registrations",checked:s.allow_registrations,onCheckedChange:e=>m("allow_registrations",e),disabled:n})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-card hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"space-y-0.5 flex-1",children:[a.jsx(L,{htmlFor:"email-notifications",className:"text-base font-medium cursor-pointer",children:"Enable Email Notifications"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Send automated email notifications to users for important events"})]}),a.jsx(Ye,{id:"email-notifications",checked:s.email_notifications,onCheckedChange:e=>m("email_notifications",e),disabled:n})]})]})]}),a.jsxs(D,{children:[a.jsxs(E,{children:[a.jsxs(A,{className:"flex items-center",children:[a.jsx(Ee,{className:"w-5 h-5 mr-2"}),"Full Database Backup"]}),a.jsx(M,{children:"Export all platform data including profiles, messages, and settings"})]}),a.jsxs(q,{className:"space-y-4",children:[a.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Backup includes all 15 database tables:"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-muted-foreground",children:[a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:"• User Profiles & Accounts"}),a.jsx("li",{children:"• Community & Private Messages"}),a.jsx("li",{children:"• Announcements & News"}),a.jsx("li",{children:"• Board Members & Executives"}),a.jsx("li",{children:"• Assistance Requests"}),a.jsx("li",{children:"• Contact Inquiries"}),a.jsx("li",{children:"• Admin Approvals"}),a.jsx("li",{children:"• Constitution Documents"})]}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:"• Finance Settings"}),a.jsx("li",{children:"• Hero Images"}),a.jsx("li",{children:"• Organization Milestones"}),a.jsx("li",{children:"• Organization Settings"}),a.jsx("li",{children:"• Sponsors"}),a.jsx("li",{children:"• Platform Settings"})]})]})]}),a.jsx(I,{onClick:async()=>{var e,s,t,a,i,r,n,l,c,o,m,h,u,x;d(!0);try{R({title:"Generating backup...",description:"Fetching data from all tables..."});const[d,j,p,f,g,v,y,N,_,b,S,C,k,D,E]=await Promise.all([w.from("profiles").select("*"),w.from("community_messages").select("*"),w.from("announcements").select("*"),w.from("board_members").select("*"),w.from("platform_settings").select("*"),w.from("assistance_requests").select("*"),w.from("contact_inquiries").select("*"),w.from("admin_approvals").select("*"),w.from("constitution_documents").select("*"),w.from("finance_settings").select("*"),w.from("hero_images").select("*"),w.from("messages").select("*"),w.from("organization_milestones").select("*"),w.from("organization_settings").select("*"),w.from("sponsors").select("*")]),A={timestamp:(new Date).toISOString(),version:"1.1",type:"full_database_backup",platform:"NUGSA-Germany",data:{profiles:d.data||[],community_messages:j.data||[],announcements:p.data||[],board_members:f.data||[],platform_settings:g.data||[],assistance_requests:v.data||[],contact_inquiries:y.data||[],admin_approvals:N.data||[],constitution_documents:_.data||[],finance_settings:b.data||[],hero_images:S.data||[],messages:C.data||[],organization_milestones:k.data||[],organization_settings:D.data||[],sponsors:E.data||[]},metadata:{total_records:{profiles:(null==(e=d.data)?void 0:e.length)||0,community_messages:(null==(s=j.data)?void 0:s.length)||0,announcements:(null==(t=p.data)?void 0:t.length)||0,board_members:(null==(a=f.data)?void 0:a.length)||0,assistance_requests:(null==(i=v.data)?void 0:i.length)||0,contact_inquiries:(null==(r=y.data)?void 0:r.length)||0,admin_approvals:(null==(n=N.data)?void 0:n.length)||0,constitution_documents:(null==(l=_.data)?void 0:l.length)||0,finance_settings:(null==(c=b.data)?void 0:c.length)||0,hero_images:(null==(o=S.data)?void 0:o.length)||0,messages:(null==(m=C.data)?void 0:m.length)||0,organization_milestones:(null==(h=k.data)?void 0:h.length)||0,organization_settings:(null==(u=D.data)?void 0:u.length)||0,sponsors:(null==(x=E.data)?void 0:x.length)||0}}},q=new Blob([JSON.stringify(A,null,2)],{type:"application/json"}),F=URL.createObjectURL(q),I=document.createElement("a");I.href=F,I.download=`nugsa-full-backup-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(F),R({title:"Success",description:"Full database backup downloaded successfully"})}catch(j){R({title:"Error",description:"Failed to generate backup",variant:"destructive"})}finally{d(!1)}},className:"w-full sm:w-auto",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(je,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating Full Backup..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Download Full Backup"]})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Backup will be downloaded as a JSON file. This contains sensitive data, please store it securely."})]})]}),a.jsxs(D,{children:[a.jsxs(E,{children:[a.jsxs(A,{className:"flex items-center",children:[a.jsx(O,{className:"w-5 h-5 mr-2"}),"Push Notifications"]}),a.jsx(M,{children:"Test the push notification system"})]}),a.jsx(q,{className:"space-y-4",children:a.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Send a test notification to all subscribed users (including yourself)."}),a.jsx(I,{onClick:async()=>{try{R({title:"Sending...",description:"Sending test notification..."});const{data:e,error:s}=await w.functions.invoke("push-notification",{body:{title:"Test Notification",body:"This is a test notification from the admin dashboard.",url:"/admin-dashboard"}});if(s)throw s;R({title:"Success",description:`Notification sent! Results: ${JSON.stringify(e)}`})}catch(e){R({title:"Error",description:"Failed to send notification. Make sure the Edge Function is deployed.",variant:"destructive"})}},children:"Send Test Notification"})]})})]})]})}function zs({onUpdate:e}){const[s,t]=v.useState([]),[i,r]=v.useState(!0),[n,l]=v.useState(!1),[c,d]=v.useState({title:"",description:"",category:"Events",event_date:(new Date).toISOString().split("T")[0],is_featured:!1}),[o,m]=v.useState(null);v.useEffect(()=>{h()},[]);const h=async()=>{try{r(!0);const{data:e,error:s}=await w.from("gallery_items").select("*").order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){R({title:"Error",description:"Failed to load gallery items",variant:"destructive"})}finally{r(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(pe,{className:"w-5 h-5 text-primary"}),"Add New Photo"]}),a.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),o){l(!0);try{const s=o.name.split(".").pop(),t=`gallery-${Date.now()}.${s}`,{error:a}=await w.storage.from("gallery").upload(t,o);if(a)throw a;const{data:{publicUrl:i}}=w.storage.from("gallery").getPublicUrl(t),{error:r}=await w.from("gallery_items").insert({title:c.title,description:c.description,category:c.category,event_date:c.event_date,is_featured:c.is_featured,image_url:i});if(r)throw r;R({title:"Success",description:"Photo added to gallery successfully"}),d({title:"",description:"",category:"Events",event_date:(new Date).toISOString().split("T")[0],is_featured:!1}),m(null),h(),e&&e()}catch(t){R({title:"Error",description:"Failed to add photo to gallery",variant:"destructive"})}finally{l(!1)}}else R({title:"Required",description:"Please select an image to upload",variant:"destructive"})},className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{htmlFor:"title",children:"Title"}),a.jsx(z,{id:"title",value:c.title,onChange:e=>d({...c,title:e.target.value}),placeholder:"e.g., Independence Day Celebration",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{htmlFor:"category",children:"Category"}),a.jsxs(H,{value:c.category,onValueChange:e=>d({...c,category:e}),children:[a.jsx(G,{children:a.jsx(Y,{placeholder:"Select category"})}),a.jsxs(J,{children:[a.jsx(Q,{value:"Events",children:"Events"}),a.jsx(Q,{value:"Meetings",children:"Meetings"}),a.jsx(Q,{value:"Community",children:"Community"}),a.jsx(Q,{value:"Social",children:"Social"}),a.jsx(Q,{value:"Academic",children:"Academic"}),a.jsx(Q,{value:"Cultural",children:"Cultural"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{htmlFor:"event_date",children:"Event Date"}),a.jsx(z,{id:"event_date",type:"date",value:c.event_date,onChange:e=>d({...c,event_date:e.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{htmlFor:"image",children:"Photo"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(z,{id:"image",type:"file",accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]&&m(e.target.files[0])},className:"cursor-pointer",required:!0})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{htmlFor:"description",children:"Description (Optional)"}),a.jsx(V,{id:"description",value:c.description,onChange:e=>d({...c,description:e.target.value}),placeholder:"Brief description of the event...",rows:2})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ye,{id:"featured",checked:c.is_featured,onCheckedChange:e=>d({...c,is_featured:e})}),a.jsx(L,{htmlFor:"featured",children:"Featured (Show first)"})]}),a.jsx(I,{type:"submit",disabled:n,className:"w-full md:w-auto",children:n?a.jsxs(a.Fragment,{children:[a.jsx(T,{size:"sm",className:"mr-2"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ue,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border shadow-sm",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(fe,{className:"w-5 h-5 text-primary"}),"Gallery Items"]})}),i?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(T,{size:"md",className:"mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading items..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Je,{children:[a.jsx(Qe,{children:a.jsxs(Xe,{children:[a.jsx(Ze,{className:"w-[100px]",children:"Image"}),a.jsx(Ze,{children:"Title"}),a.jsx(Ze,{children:"Category"}),a.jsx(Ze,{children:"Date"}),a.jsx(Ze,{children:"Featured"}),a.jsx(Ze,{className:"text-right",children:"Actions"})]})}),a.jsx(We,{children:0===s.length?a.jsx(Xe,{children:a.jsx(Ke,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No photos found. Upload one above!"})}):s.map(s=>a.jsxs(Xe,{children:[a.jsx(Ke,{children:a.jsx("div",{className:"w-12 h-12 rounded overflow-hidden bg-gray-100",children:a.jsx("img",{src:s.image_url,alt:s.title,className:"w-full h-full object-cover"})})}),a.jsx(Ke,{className:"font-medium",children:s.title}),a.jsx(Ke,{children:a.jsx(B,{variant:"outline",children:s.category})}),a.jsx(Ke,{children:a.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[a.jsx(oe,{className:"w-3 h-3 mr-1"}),new Date(s.event_date||"").toLocaleDateString()]})}),a.jsx(Ke,{children:s.is_featured?a.jsx(B,{className:"bg-green-100 text-green-700 hover:bg-green-100 border-none",children:"Featured"}):a.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),a.jsx(Ke,{className:"text-right",children:a.jsx(I,{variant:"ghost",size:"icon",onClick:()=>(async(s,t)=>{if(confirm("Are you sure you want to delete this photo?"))try{const{error:a}=await w.from("gallery_items").delete().eq("id",s);if(a)throw a;const i=t.split("/"),r=i[i.length-1];r&&await w.storage.from("gallery").remove([r]),R({title:"Success",description:"Photo deleted successfully"}),h(),e&&e()}catch(a){R({title:"Error",description:"Failed to delete photo",variant:"destructive"})}})(s.id,s.image_url),className:"text-destructive hover:text-destructive/90 hover:bg-destructive/10",children:a.jsx(Fe,{className:"w-4 h-4"})})})]},s.id))})]})})]})]})}function Ls({chapterId:e}){const[s,t]=v.useState([]),[i,r]=v.useState(!0),[n,l]=v.useState(!1),[c,d]=v.useState(null),[o,m]=v.useState(null),[h,u]=v.useState(!1),[x,j]=v.useState({name:"",position:"",bio:"",email:"",phone:"",order_priority:0,is_active:!0});v.useEffect(()=>{p()},[e]);const p=async()=>{try{r(!0);const{data:s,error:a}=await w.from("chapter_leaders").select("*").eq("chapter_id",e).order("order_priority",{ascending:!0});if(a)throw a;t(s||[])}catch(s){R({variant:"destructive",title:"Error",description:"Failed to load executives"})}finally{r(!1)}},f=e=>{e?(d(e),j({name:e.name,position:e.position,bio:e.bio||"",email:e.email||"",phone:e.phone||"",order_priority:e.order_priority,is_active:e.is_active,image_url:e.image_url})):(d(null),j({name:"",position:"",bio:"",email:"",phone:"",order_priority:s.length+1,is_active:!0})),m(null),l(!0)},g=(e,s)=>{j(t=>({...t,[e]:s}))};return i?a.jsx(T,{}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Executive Team"}),a.jsxs(I,{onClick:()=>f(),size:"sm",children:[a.jsx(pe,{className:"w-4 h-4 mr-2"})," Add Executive"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(e=>a.jsx(D,{className:"relative group",children:a.jsxs(q,{className:"pt-6",children:[a.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx(I,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>f(e),children:a.jsx(qe,{className:"w-4 h-4"})}),a.jsxs(Cs,{children:[a.jsx(ks,{asChild:!0,children:a.jsx(I,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",children:a.jsx(Fe,{className:"w-4 h-4"})})}),a.jsxs(As,{children:[a.jsxs(qs,{children:[a.jsx(Is,{children:"Delete Executive"}),a.jsxs(Ps,{children:["Are you sure you want to remove ",e.name,"?"]})]}),a.jsxs(Fs,{children:[a.jsx(Ms,{children:"Cancel"}),a.jsx(Rs,{onClick:()=>(async e=>{try{const{error:s}=await w.from("chapter_leaders").delete().eq("id",e);if(s)throw s;R({title:"Success",description:"Executive deleted"}),p()}catch(s){R({variant:"destructive",title:"Error",description:"Failed to delete executive"})}})(e.id),className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})]})]}),a.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[a.jsxs(W,{className:"w-24 h-24",children:[a.jsx(X,{src:e.image_url||void 0}),a.jsx(Z,{children:a.jsx(S,{className:"w-10 h-10"})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-lg",children:e.name}),a.jsx("p",{className:"text-primary font-medium",children:e.position})]}),a.jsxs("div",{className:"flex gap-2 text-sm text-muted-foreground",children:[e.email&&a.jsx("span",{title:e.email,children:a.jsx(C,{className:"w-4 h-4"})}),e.phone&&a.jsx("span",{title:e.phone,children:a.jsx(k,{className:"w-4 h-4"})})]}),a.jsx(B,{variant:e.is_active?"secondary":"outline",children:e.is_active?"Active":"Inactive"})]})]})},e.id))}),0===s.length&&a.jsxs("div",{className:"text-center py-12 border rounded-lg bg-muted/10",children:[a.jsx(S,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),a.jsx("p",{className:"text-muted-foreground",children:"No executives added yet."})]}),a.jsx(K,{open:n,onOpenChange:l,children:a.jsxs(ee,{className:"sm:max-w-[500px]",children:[a.jsx(se,{children:a.jsx(te,{children:c?"Edit Executive":"Add New Executive"})}),a.jsxs("form",{onSubmit:async s=>{s.preventDefault(),u(!0);try{let s=x.image_url;if(o){const e=o.name.split(".").pop(),t=`${crypto.randomUUID()}.${e}`,{error:a}=await w.storage.from("chapter-images").upload(`leaders/${t}`,o);if(a)throw a;const{data:{publicUrl:i}}=w.storage.from("chapter-images").getPublicUrl(`leaders/${t}`);s=i}const t={chapter_id:e,name:x.name,position:x.position,bio:x.bio||null,email:x.email||null,phone:x.phone||null,order_priority:x.order_priority,is_active:x.is_active,image_url:s};if(c){const{error:e}=await w.from("chapter_leaders").update(t).eq("id",c.id);if(e)throw e;R({title:"Success",description:"Executive updated"})}else{const{error:e}=await w.from("chapter_leaders").insert([t]);if(e)throw e;R({title:"Success",description:"Executive added"})}l(!1),p()}catch(t){R({variant:"destructive",title:"Error",description:"Failed to save executive"})}finally{u(!1)}},className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Full Name"}),a.jsx(z,{required:!0,value:x.name,onChange:e=>g("name",e.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Position"}),a.jsx(z,{required:!0,value:x.position,onChange:e=>g("position",e.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Profile Image"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(W,{className:"w-16 h-16",children:[a.jsx(X,{src:o?URL.createObjectURL(o):x.image_url||void 0}),a.jsx(Z,{children:a.jsx(S,{})})]}),a.jsx(z,{type:"file",accept:"image/*",onChange:e=>e.target.files&&m(e.target.files[0]),className:"flex-1"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Bio"}),a.jsx(V,{value:x.bio||"",onChange:e=>g("bio",e.target.value),rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Email (Optional)"}),a.jsx(z,{type:"email",value:x.email||"",onChange:e=>g("email",e.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Phone (Optional)"}),a.jsx(z,{value:x.phone||"",onChange:e=>g("phone",e.target.value)})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-2 w-1/3",children:[a.jsx(L,{children:"Order Priority"}),a.jsx(z,{type:"number",value:x.order_priority,onChange:e=>g("order_priority",parseInt(e.target.value))})]}),a.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[a.jsx(Ye,{checked:x.is_active,onCheckedChange:e=>g("is_active",e)}),a.jsx(L,{children:"Active"})]})]}),a.jsxs(ae,{children:[a.jsx(I,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),a.jsxs(I,{type:"submit",disabled:h,children:[h&&a.jsx(T,{size:"sm",className:"mr-2"}),"Save Executive"]})]})]})]})})]})}function Vs({chapterId:e}){const[s,t]=v.useState([]),[i,r]=v.useState(!0),[n,l]=v.useState(!1),[c,d]=v.useState(null),[o,m]=v.useState(null),[h,u]=v.useState(!1),[x,j]=v.useState({title:"",description:"",date:"",end_date:"",location:"",category:"General",attendees_count:0,is_featured:!1});v.useEffect(()=>{p()},[e]);const p=async()=>{try{r(!0);const{data:s,error:a}=await w.from("chapter_activities").select("*").eq("chapter_id",e).order("date",{ascending:!1});if(a)throw a;t(s||[])}catch(s){R({variant:"destructive",title:"Error",description:"Failed to load activities"})}finally{r(!1)}},f=e=>{e?(d(e),j({title:e.title,description:e.description||"",date:e.date?new Date(e.date).toISOString().slice(0,16):"",end_date:e.end_date?new Date(e.end_date).toISOString().slice(0,16):"",location:e.location||"",category:e.category||"General",attendees_count:e.attendees_count||0,is_featured:e.is_featured,image_url:e.image_url})):(d(null),j({title:"",description:"",date:(new Date).toISOString().slice(0,16),end_date:"",location:"",category:"General",attendees_count:0,is_featured:!1})),m(null),l(!0)},g=(e,s)=>{j(t=>({...t,[e]:s}))};return i?a.jsx(T,{}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Events & Activities"}),a.jsxs(I,{onClick:()=>f(),size:"sm",children:[a.jsx(pe,{className:"w-4 h-4 mr-2"})," Add Event"]})]}),a.jsx("div",{className:"space-y-4",children:s.map(e=>a.jsx(D,{className:"overflow-hidden",children:a.jsxs("div",{className:"flex flex-col md:flex-row",children:[a.jsxs("div",{className:"w-full md:w-48 h-32 md:h-auto bg-muted relative",children:[e.image_url?a.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"}):a.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:a.jsx(fe,{className:"w-8 h-8 opacity-20"})}),e.is_featured&&a.jsx(B,{className:"absolute top-2 left-2 bg-yellow-500 hover:bg-yellow-600",children:"Featured"})]}),a.jsxs("div",{className:"flex-1 p-4 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-lg",children:e.title}),a.jsx(B,{variant:"outline",className:"mt-1",children:e.category})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(I,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>f(e),children:a.jsx(qe,{className:"w-4 h-4"})}),a.jsxs(Cs,{children:[a.jsx(ks,{asChild:!0,children:a.jsx(I,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",children:a.jsx(Fe,{className:"w-4 h-4"})})}),a.jsxs(As,{children:[a.jsxs(qs,{children:[a.jsx(Is,{children:"Delete Activity"}),a.jsx(Ps,{children:"Are you sure you want to remove this activity?"})]}),a.jsxs(Fs,{children:[a.jsx(Ms,{children:"Cancel"}),a.jsx(Rs,{onClick:()=>(async e=>{try{const{error:s}=await w.from("chapter_activities").delete().eq("id",e);if(s)throw s;R({title:"Success",description:"Activity deleted"}),p()}catch(s){R({variant:"destructive",title:"Error",description:"Failed to delete activity"})}})(e.id),className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})]})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:e.description})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 mt-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(oe,{className:"w-4 h-4 mr-1"}),_e(new Date(e.date),"PPP p")]}),e.location&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(F,{className:"w-4 h-4 mr-1"}),e.location]}),null!==e.attendees_count&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(be,{className:"w-4 h-4 mr-1"}),e.attendees_count," Attendees"]})]})]})]})},e.id))}),0===s.length&&a.jsxs("div",{className:"text-center py-12 border rounded-lg bg-muted/10",children:[a.jsx(oe,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),a.jsx("p",{className:"text-muted-foreground",children:"No activities found."})]}),a.jsx(K,{open:n,onOpenChange:l,children:a.jsxs(ee,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(se,{children:a.jsx(te,{children:c?"Edit Activity":"New Activity"})}),a.jsxs("form",{onSubmit:async s=>{s.preventDefault(),u(!0);try{let s=x.image_url;if(o){const e=o.name.split(".").pop(),t=`${crypto.randomUUID()}.${e}`,{error:a}=await w.storage.from("chapter-images").upload(`activities/${t}`,o);if(a)throw a;const{data:{publicUrl:i}}=w.storage.from("chapter-images").getPublicUrl(`activities/${t}`);s=i}const t={chapter_id:e,title:x.title,description:x.description||null,date:new Date(x.date).toISOString(),end_date:x.end_date?new Date(x.end_date).toISOString():null,location:x.location||null,category:x.category||"General",attendees_count:x.attendees_count,is_featured:x.is_featured,image_url:s};if(c){const{error:e}=await w.from("chapter_activities").update(t).eq("id",c.id);if(e)throw e;R({title:"Success",description:"Activity updated"})}else{const{error:e}=await w.from("chapter_activities").insert([t]);if(e)throw e;R({title:"Success",description:"Activity added"})}l(!1),p()}catch(t){R({variant:"destructive",title:"Error",description:"Failed to save activity"})}finally{u(!1)}},className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Activity Title"}),a.jsx(z,{required:!0,value:x.title,onChange:e=>g("title",e.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Start Date & Time"}),a.jsx(z,{type:"datetime-local",required:!0,value:x.date,onChange:e=>g("date",e.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"End Date & Time"}),a.jsx(z,{type:"datetime-local",value:x.end_date,onChange:e=>g("end_date",e.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Location"}),a.jsx(z,{value:x.location||"",onChange:e=>g("location",e.target.value),placeholder:"e.g. Community Hall"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Category"}),a.jsxs(H,{value:x.category||"General",onValueChange:e=>g("category",e),children:[a.jsx(G,{children:a.jsx(Y,{})}),a.jsxs(J,{children:[a.jsx(Q,{value:"General",children:"General"}),a.jsx(Q,{value:"Cultural",children:"Cultural"}),a.jsx(Q,{value:"Academic",children:"Academic"}),a.jsx(Q,{value:"Social",children:"Social"}),a.jsx(Q,{value:"Sports",children:"Sports"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Description"}),a.jsx(V,{value:x.description||"",onChange:e=>g("description",e.target.value),rows:4})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Cover Image"}),a.jsxs("div",{className:"flex items-center gap-4",children:[x.image_url||o?a.jsx("img",{src:o?URL.createObjectURL(o):x.image_url,alt:"Preview",className:"h-20 w-32 object-cover rounded"}):a.jsx("div",{className:"h-20 w-32 bg-muted rounded flex items-center justify-center",children:a.jsx(fe,{className:"opacity-20"})}),a.jsx(z,{type:"file",accept:"image/*",onChange:e=>e.target.files&&m(e.target.files[0]),className:"flex-1"})]})]}),a.jsxs("div",{className:"flex justify-between pt-2",children:[a.jsxs("div",{className:"space-y-2 w-1/3",children:[a.jsx(L,{children:"Est. Attendees"}),a.jsx(z,{type:"number",value:x.attendees_count||0,onChange:e=>g("attendees_count",parseInt(e.target.value))})]}),a.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[a.jsx(Ye,{checked:x.is_featured,onCheckedChange:e=>g("is_featured",e)}),a.jsx(L,{children:"Featured Event"})]})]}),a.jsxs(ae,{children:[a.jsx(I,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),a.jsxs(I,{type:"submit",disabled:h,children:[h&&a.jsx(T,{size:"sm",className:"mr-2"}),"Save Activity"]})]})]})]})})]})}function Bs({managedChapterId:e}){const[s,t]=v.useState([]),[i,r]=v.useState(null),[n,l]=v.useState(!0),[c,d]=v.useState(!1),[o,m]=v.useState("list");v.useEffect(()=>{h()},[e]);const h=async()=>{try{l(!0);let s=w.from("chapters").select("*").order("name");e&&(s=s.eq("id",e));const{data:a,error:i}=await s;if(i)throw i;const n=a||[];t(n),e&&n.length>0&&(r(n[0]),m("edit"))}catch(s){R({variant:"destructive",title:"Error",description:"Failed to load chapters"})}finally{l(!1)}},u=async e=>{if(e.preventDefault(),i)try{d(!0);const{error:e}=await w.from("chapters").update({name:i.name,city:i.city,region:i.region,description:i.description,contact_email:i.contact_email,contact_phone:i.contact_phone,meeting_schedule:i.meeting_schedule,is_active:i.is_active,member_count:i.member_count}).eq("id",i.id);if(e)throw e;R({title:"Success",description:"Chapter updated successfully"}),h()}catch(s){R({variant:"destructive",title:"Error",description:"Failed to update chapter"})}finally{d(!1)}};return n?a.jsx(T,{size:"lg"}):"edit"===o&&i?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[!e&&a.jsx(I,{variant:"outline",size:"icon",onClick:()=>m("list"),children:a.jsx(ke,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:i.name}),a.jsxs("p",{className:"text-muted-foreground flex items-center gap-2",children:[a.jsx(F,{className:"w-3 h-3"})," ",i.city,", ",i.region]})]})]}),a.jsxs(ge,{defaultValue:"details",children:[a.jsxs(ve,{children:[a.jsx(ye,{value:"details",children:"Details"}),a.jsx(ye,{value:"executives",children:"Executives"}),a.jsx(ye,{value:"activities",children:"Activities"})]}),a.jsx(Ne,{value:"details",children:a.jsxs(D,{children:[a.jsxs(E,{children:[a.jsx(A,{children:"Chapter Information"}),a.jsx(M,{children:"Update the basic details of this chapter."})]}),a.jsx(q,{children:a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Chapter Name"}),a.jsx(z,{value:i.name,onChange:e=>r({...i,name:e.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"City"}),a.jsx(z,{value:i.city,onChange:e=>r({...i,city:e.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Region"}),a.jsx(z,{value:i.region,onChange:e=>r({...i,region:e.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Meeting Schedule"}),a.jsx(z,{value:i.meeting_schedule||"",onChange:e=>r({...i,meeting_schedule:e.target.value}),placeholder:"e.g. First Saturday of every month"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Contact Email"}),a.jsx(z,{type:"email",value:i.contact_email||"",onChange:e=>r({...i,contact_email:e.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Contact Phone"}),a.jsx(z,{value:i.contact_phone||"",onChange:e=>r({...i,contact_phone:e.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Member Count (Approx)"}),a.jsx(z,{type:"number",value:i.member_count||0,onChange:e=>r({...i,member_count:parseInt(e.target.value)})})]}),a.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[a.jsx(Ye,{checked:i.is_active,onCheckedChange:e=>r({...i,is_active:e})}),a.jsx(L,{children:"Active Status"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{children:"Description"}),a.jsx(V,{value:i.description||"",onChange:e=>r({...i,description:e.target.value}),className:"h-32"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(I,{type:"submit",disabled:c,children:[c&&a.jsx(T,{size:"sm",className:"mr-2"}),"Save Changes"]})})]})})]})}),a.jsx(Ne,{value:"executives",children:a.jsxs(D,{children:[a.jsxs(E,{children:[a.jsx(A,{children:"Chapter Executives"}),a.jsx(M,{children:"Manage your chapter's executive team."})]}),a.jsx(q,{children:a.jsx(Ls,{chapterId:i.id})})]})}),a.jsx(Ne,{value:"activities",children:a.jsxs(D,{children:[a.jsxs(E,{children:[a.jsx(A,{children:"Activities & Events"}),a.jsx(M,{children:"Post and manage chapter activities."})]}),a.jsx(q,{children:a.jsx(Vs,{chapterId:i.id})})]})})]})]}):a.jsxs(D,{children:[a.jsx(E,{className:"flex flex-row items-center justify-between",children:a.jsxs("div",{children:[a.jsx(A,{children:"NUGSA Chapters"}),a.jsx(M,{children:"Manage all chapters across Germany"})]})}),a.jsx(q,{children:a.jsxs(Je,{children:[a.jsx(Qe,{children:a.jsxs(Xe,{children:[a.jsx(Ze,{children:"Chapter Name"}),a.jsx(Ze,{children:"Region"}),a.jsx(Ze,{children:"Members"}),a.jsx(Ze,{children:"Status"}),a.jsx(Ze,{className:"text-right",children:"Actions"})]})}),a.jsx(We,{children:s.map(e=>a.jsxs(Xe,{children:[a.jsx(Ke,{className:"font-medium",children:e.name}),a.jsxs(Ke,{children:[e.city,", ",e.region]}),a.jsx(Ke,{children:e.member_count}),a.jsx(Ke,{children:a.jsx(B,{variant:e.is_active?"default":"secondary",children:e.is_active?"Active":"Inactive"})}),a.jsx(Ke,{className:"text-right",children:a.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>{r(e),m("edit")},children:[a.jsx(qe,{className:"w-4 h-4 mr-2"}),"Manage"]})})]},e.id))})]})})]})}function Hs(){const{user:e}=P(),s=y(),[t,i]=v.useState("verification"),[r,n]=v.useState(!1),[l,c]=v.useState(!1),[d,o]=v.useState(null),[m,h]=v.useState(null),[u,x]=v.useState({totalStudents:0,verifiedStudents:0,pendingVerifications:0,totalInquiries:0,pendingInquiries:0}),[j,p]=v.useState(null),[f,g]=v.useState([]),[N,_]=v.useState("2024-2025"),[b,S]=v.useState(""),[k,F]=v.useState(null),[U,T]=v.useState({name:"",position:"",academic_background:"",leadership_experience:"",quote:"",image_url:"",year:`${(new Date).getFullYear()}-${(new Date).getFullYear()+1}`}),[W,X]=v.useState(null),[Z,K]=v.useState([]),[ee,se]=v.useState({title:"",version:"",is_current:!0}),[te,ae]=v.useState(null),[ie,ne]=v.useState([]),[le,ce]=v.useState({title:"",content:"",category:"general",featured:!1,published:!0}),[de,ue]=v.useState([]),[je,ge]=v.useState([]),[ve,ye]=v.useState("all"),[Ne,_e]=v.useState([]),[ke,Ee]=v.useState("all"),[Ae,Re]=v.useState({bank_transfer_details:{bank_name:"",account_name:"",account_number:"",swift_code:"",upi_id:""},mobile_money_details:{provider:"",number:"",name:""},contact_details:{treasurer_name:"",treasurer_email:"",treasurer_phone:"",finance_email:""}}),[Me,$e]=v.useState(null),[Ue,Oe]=v.useState(!1);v.useEffect(()=>{if(!e){const e=setTimeout(()=>{s("/auth")},3e3);return()=>clearTimeout(e)}Te()},[e,s]);const Te=async()=>{if(e)try{const{data:s,error:t}=await w.from("profiles").select("role, is_verified, managed_chapter_id").eq("id",e.id).single();if(t)throw t;const a=s,r="admin"===(null==a?void 0:a.role)&&(null==a?void 0:a.is_verified),n=!!(null==a?void 0:a.managed_chapter_id);if(!r&&!n)return c(!0),o(null==a?void 0:a.role),void h(null==a?void 0:a.is_verified);p(a.managed_chapter_id),n&&!r&&i("chapters"),ze(),r&&(Le(),Ve(),Be(),He(),Ge(),es())}catch(s){R({title:"Error",description:"Failed to verify admin access",variant:"destructive"})}},ze=async()=>{try{const[{count:e},{count:s},{count:t},{count:a},{count:i}]=await Promise.all([w.from("profiles").select("*",{count:"exact",head:!0}).eq("role","student"),w.from("profiles").select("*",{count:"exact",head:!0}).eq("role","student").eq("is_verified",!0),w.from("profiles").select("*",{count:"exact",head:!0}).eq("role","student").eq("is_verified",!1),w.from("contact_inquiries").select("*",{count:"exact",head:!0}),w.from("contact_inquiries").select("*",{count:"exact",head:!0}).eq("status","pending")]);x({totalStudents:e||0,verifiedStudents:s||0,pendingVerifications:t||0,totalInquiries:a||0,pendingInquiries:i||0})}catch(e){R({title:"Error",description:"Failed to load dashboard statistics",variant:"destructive"})}},Le=async()=>{n(!0);try{const{data:e,error:s}=await w.from("board_members").select("*").order("order_priority",{ascending:!0});if(s)throw s;g(e||[])}catch(e){R({title:"Error",description:"Failed to load board members",variant:"destructive"})}finally{n(!1)}},Ve=async()=>{n(!0);try{const{data:e,error:s}=await w.from("constitution_documents").select("*").order("created_at",{ascending:!1});if(s)throw s;K(e||[])}catch(e){R({title:"Error",description:"Failed to load constitution documents",variant:"destructive"})}finally{n(!1)}},Be=async()=>{n(!0);try{const{data:e,error:s}=await w.from("announcements").select("*").order("created_at",{ascending:!1});if(s)throw s;ne(e||[])}catch(e){R({title:"Error",description:"Failed to load announcements",variant:"destructive"})}finally{n(!1)}},He=async()=>{n(!0);try{const{data:e,error:s}=await w.from("contact_inquiries").select("*").order("created_at",{ascending:!1});if(s)throw s;ge(e||[])}catch(e){R({title:"Error",description:"Failed to load contact inquiries",variant:"destructive"})}finally{n(!1)}},Ge=async()=>{n(!0);try{const{data:e,error:s}=await w.from("assistance_requests").select("\n          *,\n          profiles!assistance_requests_student_id_fkey (\n            first_name,\n            last_name,\n            university,\n            phone,\n            current_state,\n            current_city,\n            india_pincode\n          )\n        ").order("created_at",{ascending:!1});if(s)throw s;_e((e||[]).map(e=>({...e,status:e.status})))}catch(e){R({title:"Error",description:"Failed to load assistance requests",variant:"destructive"})}finally{n(!1)}},es=async()=>{n(!0);try{const{data:e,error:s}=await w.from("organization_settings").select("*");if(s)throw s;const t={bank_transfer_details:{bank_name:"",account_name:"",account_number:"",swift_code:"",upi_id:""},mobile_money_details:{provider:"",number:"",name:""},contact_details:{treasurer_name:"",treasurer_email:"",treasurer_phone:"",finance_email:""}};null==e||e.forEach(e=>{"bank_transfer_details"===e.setting_key?t.bank_transfer_details="string"==typeof e.setting_value?JSON.parse(e.setting_value):e.setting_value:"mobile_money_details"===e.setting_key?t.mobile_money_details="string"==typeof e.setting_value?JSON.parse(e.setting_value):e.setting_value:"contact_details"===e.setting_key&&(t.contact_details="string"==typeof e.setting_value?JSON.parse(e.setting_value):e.setting_value)}),Re(t)}catch(e){R({title:"Error",description:"Failed to load finance settings",variant:"destructive"})}finally{n(!1)}},ss=async s=>{if(s.preventDefault(),e){n(!0);try{let e="";if(W){const s=W.name.split(".").pop(),t=`board-member-${Date.now()}.${s}`,{error:a}=await w.storage.from("board-images").upload(t,W);if(a)throw a;const{data:{publicUrl:i}}=w.storage.from("board-images").getPublicUrl(t);e=i}if(k){const{error:s}=await w.from("board_members").update({...U,image_url:e||k.image_url}).eq("id",k.id);if(s)throw s;R({title:"Success",description:"Board member updated successfully!"})}else{const{error:s}=await w.from("board_members").insert({...U,image_url:e,is_active:!0,order_priority:f.length+1});if(s)throw s;R({title:"Success",description:"Board member added successfully!"})}T({name:"",position:"",academic_background:"",leadership_experience:"",quote:"",image_url:"",year:`${(new Date).getFullYear()}-${(new Date).getFullYear()+1}`}),X(null),F(null),Le()}catch(t){R({title:"Error",description:"Failed to save board member",variant:"destructive"})}finally{n(!1)}}},ts=async s=>{if(s.preventDefault(),e&&te){n(!0);try{const s=te.name.split(".").pop(),t=`constitution-${Date.now()}.${s}`,{error:a}=await w.storage.from("constitution-docs").upload(t,te);if(a)throw a;const{data:{publicUrl:i}}=w.storage.from("constitution-docs").getPublicUrl(t);ee.is_current&&await w.from("constitution_documents").update({is_current:!1}).neq("id","");const{error:r}=await w.from("constitution_documents").insert({...ee,file_url:i,uploaded_by:e.id});if(r)throw r;R({title:"Success",description:"Constitution document added successfully!"}),se({title:"",version:"",is_current:!1}),ae(null),Ve()}catch(t){R({title:"Error",description:"Failed to add constitution document",variant:"destructive"})}finally{n(!1)}}},as=async s=>{if(s.preventDefault(),e){n(!0);try{let s=[],t="",a="";if(de.length>0){for(const e of de){const t=e.name.split(".").pop(),i=`announcement-${Date.now()}-${Math.random()}.${t}`,{error:r}=await w.storage.from("news-images").upload(i,e);if(r)throw r;const{data:{publicUrl:n}}=w.storage.from("news-images").getPublicUrl(i);s.push(n),a=s.join(";")}t=s[0]||""}const{error:i}=await w.from("announcements").insert([{title:le.title,content:le.content,category:le.category,featured:le.featured,published:le.published,image_url:s[0]||null,author_id:e.id}]);if(i)throw i;R({title:"Success",description:"Announcement added successfully!"}),ce({title:"",content:"",category:"general",featured:!1,published:!0}),ue([]),Be()}catch(t){R({title:"Error",description:"Failed to add announcement",variant:"destructive"})}finally{n(!1)}}},is=async(s,t)=>{try{const{error:a}=await w.from("contact_inquiries").update({status:t,resolved_at:"resolved"===t?(new Date).toISOString():null,resolved_by:"resolved"===t?null==e?void 0:e.id:null}).eq("id",s);if(a)throw a;R({title:"Success",description:`Inquiry marked as ${t.replace("_"," ")}`}),He(),ze()}catch(a){R({title:"Error",description:"Failed to update inquiry status",variant:"destructive"})}},rs=async(s,t)=>{try{const{error:a}=await w.from("assistance_requests").update({status:t,resolved_at:"resolved"===t?(new Date).toISOString():null,reviewed_by:null==e?void 0:e.id}).eq("id",s);if(a)throw a;R({title:"Success",description:`Assistance request marked as ${t.replace("_"," ")}`}),Ge()}catch(a){R({title:"Error",description:"Failed to update assistance request",variant:"destructive"})}},ns=async e=>{try{const{error:s}=await w.from("organization_settings").upsert({setting_key:e,setting_value:Ae[e]},{onConflict:"setting_key"});if(s)throw s;R({title:"Success",description:"Finance settings updated successfully"}),es()}catch(s){R({title:"Error",description:"Failed to update finance settings",variant:"destructive"})}},ls=je.filter(e=>"all"===ve||e.status===ve),cs=Ne.filter(e=>"all"===ke||e.status===ke);if(!e)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"Please sign in to access the admin dashboard"})]})});function ds(e){const s=new Date,t=new Date(e),a=Math.floor((s.getTime()-t.getTime())/1e3);if(a<60)return`${a} second${1!==a?"s":""} ago`;const i=Math.floor(a/60);if(i<60)return`${i} minute${1!==i?"s":""} ago`;const r=Math.floor(i/60);if(r<24)return`${r} hour${1!==r?"s":""} ago`;const n=Math.floor(r/24);if(n<7)return`${n} day${1!==n?"s":""} ago`;const l=Math.floor(n/7);if(l<4)return`${l} week${1!==l?"s":""} ago`;const c=Math.floor(n/30);if(c<12)return`${c} month${1!==c?"s":""} ago`;const d=Math.floor(n/365);return`${d} year${1!==d?"s":""} ago`}return l?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs(D,{className:"w-full max-w-md",children:[a.jsxs(E,{children:[a.jsxs(A,{className:"text-red-600 flex items-center gap-2",children:[a.jsx(we,{className:"h-6 w-6"}),"Access Denied"]}),a.jsx(M,{children:"You do not have permission to view the Admin Dashboard."})]}),a.jsxs(q,{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-md space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Current Role:"})," ",d||"None"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Verified:"})," ",m?"Yes":"No"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"User ID:"})," ",null==e?void 0:e.id]})]}),a.jsx("div",{className:"text-sm text-gray-600",children:a.jsx("p",{children:"To fix this, please run the SQL command to update your role to 'admin' and is_verified to true."})}),a.jsx(I,{onClick:()=>s("/dashboard"),className:"w-full",children:"Go to Student Dashboard"})]})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50/50",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Manage all aspects of the NUGSA - Germany platform"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[a.jsxs(D,{children:[a.jsxs(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(A,{className:"text-sm font-medium",children:"Total Students"}),a.jsx(be,{className:"h-4 w-4 text-blue-600"})]}),a.jsx(q,{children:a.jsx("div",{className:"text-2xl font-bold",children:u.totalStudents})})]}),a.jsxs(D,{children:[a.jsxs(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(A,{className:"text-sm font-medium",children:"Verified"}),a.jsx(Ie,{className:"h-4 w-4 text-green-600"})]}),a.jsx(q,{children:a.jsx("div",{className:"text-2xl font-bold",children:u.verifiedStudents})})]}),a.jsxs(D,{children:[a.jsxs(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(A,{className:"text-sm font-medium",children:"Pending"}),a.jsx(Pe,{className:"h-4 w-4 text-orange-600"})]}),a.jsx(q,{children:a.jsx("div",{className:"text-2xl font-bold",children:u.pendingVerifications})})]}),a.jsxs(D,{children:[a.jsxs(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(A,{className:"text-sm font-medium",children:"Total Inquiries"}),a.jsx(C,{className:"h-4 w-4 text-purple-600"})]}),a.jsx(q,{children:a.jsx("div",{className:"text-2xl font-bold",children:u.totalInquiries})})]}),a.jsxs(D,{children:[a.jsxs(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(A,{className:"text-sm font-medium",children:"Pending Inquiries"}),a.jsx(O,{className:"h-4 w-4 text-red-600"})]}),a.jsx(q,{children:a.jsx("div",{className:"text-2xl font-bold",children:u.pendingInquiries})})]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-8 border-b",children:[{id:"verification",label:"Verification",icon:Ie,adminOnly:!0},{id:"chapters",label:"Chapter Management",icon:re,adminOnly:!1},{id:"board",label:"Board Members",icon:be,adminOnly:!0},{id:"constitution",label:"Constitution",icon:me,adminOnly:!0},{id:"announcements",label:"Announcements",icon:O,adminOnly:!0},{id:"inquiries",label:"Contact Inquiries",icon:C,adminOnly:!0},{id:"assistance",label:"Assistance",icon:$,adminOnly:!0},{id:"finance",label:"Finance",icon:De,adminOnly:!0},{id:"gallery",label:"Gallery",icon:fe,adminOnly:!0},{id:"hero",label:"Hero Images",icon:oe,adminOnly:!0},{id:"platform",label:"Settings",icon:$,adminOnly:!0}].filter(e=>!j||!e.adminOnly).map(({id:e,label:s,icon:r})=>a.jsxs("button",{onClick:()=>i(e),className:"flex items-center px-4 py-2 rounded-t-lg font-medium transition-colors "+(t===e?"bg-primary text-primary-foreground border-b-2 border-primary":"text-muted-foreground hover:text-primary"),children:[a.jsx(r,{className:"w-4 h-4 mr-2"}),s]},e))}),a.jsxs("div",{className:"space-y-6",children:["verification"===t&&a.jsx(Us,{onStatsUpdate:ze}),"chapters"===t&&a.jsx(Bs,{managedChapterId:j}),"board"===t&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(D,{children:[a.jsx(E,{children:a.jsxs(A,{className:"flex items-center",children:[k?a.jsx(qe,{className:"w-5 h-5 mr-2"}):a.jsx(pe,{className:"w-5 h-5 mr-2"}),k?"Edit Board Member":"Add New Board Member"]})}),a.jsx(q,{children:a.jsxs("form",{onSubmit:ss,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(L,{htmlFor:"member-name",children:"Name"}),a.jsx(z,{id:"member-name",value:U.name,onChange:e=>T({...U,name:e.target.value}),placeholder:"Enter full name",required:!0})]}),a.jsxs("div",{children:[a.jsx(L,{htmlFor:"member-position",children:"Position"}),a.jsx(z,{id:"member-position",value:U.position,onChange:e=>T({...U,position:e.target.value}),placeholder:"e.g., President, Vice President",required:!0})]}),a.jsxs("div",{children:[a.jsx(L,{htmlFor:"member-year",children:"Year"}),a.jsxs(H,{value:U.year,onValueChange:e=>T({...U,year:e}),children:[a.jsx(G,{children:a.jsx(Y,{placeholder:"Select year"})}),a.jsxs(J,{children:[a.jsx(Q,{value:"all",children:"All Years"}),Array.from({length:7},(e,s)=>{const t=2019+s,i=`${t}-${t+1}`;return a.jsx(Q,{value:i,children:i},i)})]})]})]}),a.jsxs("div",{children:[a.jsx(L,{htmlFor:"member-image",children:"Profile Image"}),a.jsx(z,{id:"member-image",type:"file",accept:"image/*",onChange:e=>{var s;return X((null==(s=e.target.files)?void 0:s[0])||null)}})]})]}),a.jsxs("div",{children:[a.jsx(L,{htmlFor:"member-academic",children:"Academic Background"}),a.jsx(V,{id:"member-academic",value:U.academic_background,onChange:e=>T({...U,academic_background:e.target.value}),placeholder:"Enter academic background"})]}),a.jsxs("div",{children:[a.jsx(L,{htmlFor:"member-leadership",children:"Leadership Experience"}),a.jsx(V,{id:"member-leadership",value:U.leadership_experience,onChange:e=>T({...U,leadership_experience:e.target.value}),placeholder:"Enter leadership experience"})]}),a.jsxs("div",{children:[a.jsx(L,{htmlFor:"member-quote",children:"Quote/Vision"}),a.jsx(V,{id:"member-quote",value:U.quote,onChange:e=>T({...U,quote:e.target.value}),placeholder:"Enter inspiring quote or vision"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(I,{type:"submit",disabled:r,children:k?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"w-4 h-4 mr-2"}),r?"Updating...":"Update Member"]}):a.jsxs(a.Fragment,{children:[a.jsx(pe,{className:"w-4 h-4 mr-2"}),r?"Adding...":"Add Member"]})}),k&&a.jsx(I,{type:"button",variant:"outline",onClick:()=>{F(null),T({name:"",position:"",academic_background:"",leadership_experience:"",quote:"",image_url:"",year:`${(new Date).getFullYear()}-${(new Date).getFullYear()+1}`}),X(null)},children:"Cancel"})]})]})})]}),a.jsxs(D,{children:[a.jsx(E,{children:a.jsxs(A,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(be,{className:"w-5 h-5 mr-2"}),"Board Members Management"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(H,{value:N,onValueChange:_,children:[a.jsx(G,{className:"w-32",children:a.jsx(Y,{placeholder:"Filter by year"})}),a.jsx(J,{children:Array.from({length:(new Date).getFullYear()-2019+1},(e,s)=>{const t=2019+s,i=`${t}-${t+1}`;return a.jsx(Q,{value:i,children:i},i)})})]}),a.jsx(z,{placeholder:"Filter by position...",value:b,onChange:e=>S(e.target.value),className:"w-48"})]})]})}),a.jsx(q,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Je,{children:[a.jsx(Qe,{children:a.jsxs(Xe,{children:[a.jsx(Ze,{children:"Photo"}),a.jsx(Ze,{children:"Name"}),a.jsx(Ze,{children:"Position"}),a.jsx(Ze,{children:"Year"}),a.jsx(Ze,{children:"Status"}),a.jsx(Ze,{children:"Actions"})]})}),a.jsx(We,{children:f.filter(e=>{const s=!N||e.year===N,t=!b||e.position.toLowerCase().includes(b.toLowerCase());return s&&t}).map(e=>a.jsxs(Xe,{children:[a.jsx(Ke,{children:a.jsx("img",{src:e.image_url||"/default-profile.png",alt:e.name,className:"w-10 h-10 rounded-full object-cover"})}),a.jsx(Ke,{className:"font-medium",children:e.name}),a.jsx(Ke,{children:e.position}),a.jsx(Ke,{children:e.year}),a.jsx(Ke,{children:a.jsx(B,{variant:e.is_active?"default":"secondary",children:e.is_active?"Active":"Hidden"})}),a.jsx(Ke,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(I,{variant:"ghost",size:"sm",onClick:async()=>{try{const{error:s}=await w.from("board_members").update({is_active:!e.is_active}).eq("id",e.id);if(s)throw s;R({title:"Success",description:`Board member ${e.is_active?"shown":"hidden"} successfully!`}),Le()}catch(s){R({title:"Error",description:"Failed to update board member status",variant:"destructive"})}},children:e.is_active?a.jsx(xe,{className:"w-4 h-4"}):a.jsx(he,{className:"w-4 h-4"})}),a.jsx(I,{variant:"ghost",size:"sm",onClick:()=>{F(e),T({name:e.name,position:e.position,academic_background:e.academic_background,leadership_experience:e.leadership_experience,quote:e.quote,image_url:e.image_url,year:e.year})},children:a.jsx(qe,{className:"w-4 h-4"})}),a.jsxs(Cs,{children:[a.jsx(ks,{asChild:!0,children:a.jsx(I,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:a.jsx(Fe,{className:"w-4 h-4"})})}),a.jsxs(As,{children:[a.jsxs(qs,{children:[a.jsx(Is,{children:"Delete Board Member"}),a.jsxs(Ps,{children:['Are you sure you want to delete "',e.name,'"? This action cannot be undone.']})]}),a.jsxs(Fs,{children:[a.jsx(Ms,{children:"Cancel"}),a.jsx(Rs,{onClick:()=>(async e=>{try{const{error:s}=await w.from("board_members").delete().eq("id",e);if(s)throw s;R({title:"Success",description:"Board member deleted successfully"}),Le()}catch(s){R({title:"Error",description:"Failed to delete board member",variant:"destructive"})}})(e.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})})]},e.id))})]})})})]})]}),"constitution"===t&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(D,{children:[a.jsx(E,{children:a.jsxs(A,{className:"flex items-center",children:[a.jsx(pe,{className:"w-5 h-5 mr-2"}),"Add New Constitution Document"]})}),a.jsx(q,{children:a.jsxs("form",{onSubmit:ts,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(L,{htmlFor:"constitution-title",children:"Title"}),a.jsx(z,{id:"constitution-title",value:ee.title,onChange:e=>se({...ee,title:e.target.value}),placeholder:"Enter document title",required:!0})]}),a.jsxs("div",{children:[a.jsx(L,{htmlFor:"constitution-version",children:"Version"}),a.jsx(z,{id:"constitution-version",value:ee.version,onChange:e=>se({...ee,version:e.target.value}),placeholder:"Enter version number",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(L,{htmlFor:"constitution-file",children:"Document File (PDF)"}),a.jsx(z,{id:"constitution-file",type:"file",accept:"application/pdf",onChange:e=>{var s;return ae((null==(s=e.target.files)?void 0:s[0])||null)},required:!0})]}),a.jsxs(I,{type:"submit",disabled:r,children:[a.jsx(pe,{className:"w-4 h-4 mr-2"}),r?"Adding...":"Add Document"]})]})})]}),a.jsxs(D,{children:[a.jsx(E,{children:a.jsxs(A,{className:"flex items-center",children:[a.jsx(me,{className:"w-5 h-5 mr-2"}),"Constitution Documents"]})}),a.jsx(q,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Z.map(e=>a.jsx(D,{children:a.jsxs(q,{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h4",{className:"font-medium",children:e.title}),a.jsx(B,{variant:e.is_current?"default":"secondary",children:e.is_current?"Current":"Archived"})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Version: ",e.version]}),a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsx(B,{variant:new Date(e.created_at).getFullYear()>=(new Date).getFullYear()?"default":"secondary",children:ds(e.created_at)}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-sm",children:"View"}),a.jsxs(Cs,{children:[a.jsx(ks,{asChild:!0,children:a.jsx(I,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 p-0 h-auto",children:a.jsx(Fe,{className:"w-4 h-4"})})}),a.jsxs(As,{children:[a.jsxs(qs,{children:[a.jsx(Is,{children:"Delete Constitution Document"}),a.jsxs(Ps,{children:['Are you sure you want to delete "',e.title,'" (Version ',e.version,")? This action cannot be undone."]})]}),a.jsxs(Fs,{children:[a.jsx(Ms,{children:"Cancel"}),a.jsx(Rs,{onClick:()=>(async e=>{try{const{error:s}=await w.from("constitution_documents").delete().eq("id",e);if(s)throw s;R({title:"Success",description:"Constitution document deleted successfully"}),Ve()}catch(s){R({title:"Error",description:"Failed to delete constitution document",variant:"destructive"})}})(e.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})]})]})},e.id))})})]})]}),"announcements"===t&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(D,{children:[a.jsx(E,{children:a.jsxs(A,{className:"flex items-center",children:[a.jsx(pe,{className:"w-5 h-5 mr-2"}),"Add New Announcement"]})}),a.jsx(q,{children:a.jsxs("form",{onSubmit:as,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(L,{htmlFor:"announcement-title",children:"Title"}),a.jsx(z,{id:"announcement-title",value:le.title,onChange:e=>ce({...le,title:e.target.value}),placeholder:"Enter announcement title",required:!0})]}),a.jsxs("div",{children:[a.jsx(L,{htmlFor:"announcement-content",children:"Content"}),a.jsx(V,{id:"announcement-content",value:le.content,onChange:e=>ce({...le,content:e.target.value}),placeholder:"Enter announcement content",rows:4,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(L,{htmlFor:"announcement-category",children:"Category"}),a.jsxs(H,{value:le.category,onValueChange:e=>ce({...le,category:e}),children:[a.jsx(G,{children:a.jsx(Y,{placeholder:"Select category"})}),a.jsxs(J,{children:[a.jsx(Q,{value:"general",children:"General"}),a.jsx(Q,{value:"academic",children:"Academic"}),a.jsx(Q,{value:"social",children:"Social"}),a.jsx(Q,{value:"administrative",children:"Administrative"}),a.jsx(Q,{value:"scholarships",children:"Scholarships"}),a.jsx(Q,{value:"jobs",children:"Jobs"}),a.jsx(Q,{value:"internships",children:"Internships"}),a.jsx(Q,{value:"sports",children:"Sports"}),a.jsx(Q,{value:"events",children:"Events"})]})]})]}),a.jsxs("div",{children:[a.jsx(L,{htmlFor:"announcement-image",children:"Images (optional)"}),a.jsx(z,{id:"announcement-image",type:"file",accept:"image/*",multiple:!0,onChange:e=>ue(Array.from(e.target.files||[]))}),de.length>0&&a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[de.length," image",1!==de.length?"s":""," selected"]})]})]}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ye,{id:"announcement-featured",checked:le.featured,onCheckedChange:e=>ce({...le,featured:e})}),a.jsx(L,{htmlFor:"announcement-featured",children:"Featured"})]})}),a.jsxs(I,{type:"submit",disabled:r,children:[a.jsx(pe,{className:"w-4 h-4 mr-2"}),r?"Adding...":"Add Announcement"]})]})})]}),a.jsxs(D,{children:[a.jsx(E,{children:a.jsxs(A,{className:"flex items-center",children:[a.jsx(me,{className:"w-5 h-5 mr-2"}),"Current Announcements"]})}),a.jsx(q,{children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:ie.map(e=>a.jsxs(D,{children:[e.image_url&&(()=>{try{const s=JSON.parse(e.image_url);if(Array.isArray(s))return a.jsx("div",{className:"aspect-video bg-gray-100",children:a.jsx("img",{src:s[0],alt:e.title,className:"w-full h-full object-cover"})})}catch{}return a.jsx("div",{className:"aspect-video bg-gray-100",children:a.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"})})})(),a.jsxs(q,{className:"p-3",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h4",{className:"font-medium text-sm",children:e.title}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(B,{variant:"secondary",className:"text-[10px] px-1 py-0",children:e.category}),e.featured&&a.jsx(B,{variant:"default",className:"text-[10px] px-1 py-0",children:"Featured"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3",children:e.content}),a.jsxs("div",{className:"flex justify-between items-center mt-4",children:[a.jsx("span",{className:"text-[10px] text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),a.jsx(I,{variant:"destructive",size:"sm",className:"h-7 w-7 p-0",onClick:()=>(async e=>{try{const{error:s}=await w.from("announcements").delete().eq("id",e);if(s)throw s;R({title:"Success",description:"Announcement deleted successfully"}),Be()}catch(s){R({title:"Error",description:"Failed to delete announcement",variant:"destructive"})}})(e.id),children:a.jsx(Fe,{className:"w-3 h-3"})})]})]})]},e.id))})})]})]}),"inquiries"===t&&a.jsx("div",{className:"space-y-6",children:a.jsxs(D,{children:[a.jsx(E,{children:a.jsxs(A,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(C,{className:"w-5 h-5 mr-2"}),"Contact Inquiries"]}),a.jsxs(H,{value:ve,onValueChange:ye,children:[a.jsx(G,{className:"w-32",children:a.jsx(Y,{placeholder:"Filter by status"})}),a.jsxs(J,{children:[a.jsx(Q,{value:"all",children:"All"}),a.jsx(Q,{value:"pending",children:"Pending"}),a.jsx(Q,{value:"in_progress",children:"In Progress"}),a.jsx(Q,{value:"resolved",children:"Resolved"})]})]})]})}),a.jsx(q,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Je,{children:[a.jsx(Qe,{children:a.jsxs(Xe,{children:[a.jsx(Ze,{children:"Name"}),a.jsx(Ze,{children:"Email"}),a.jsx(Ze,{children:"Phone"}),a.jsx(Ze,{children:"Subject"}),a.jsx(Ze,{children:"Message"}),a.jsx(Ze,{children:"Status"}),a.jsx(Ze,{children:"Date"}),a.jsx(Ze,{children:"Actions"})]})}),a.jsx(We,{children:ls.map(e=>a.jsxs(Xe,{children:[a.jsx(Ke,{className:"font-medium",children:e.name}),a.jsx(Ke,{children:e.email}),a.jsx(Ke,{children:e.phone}),a.jsx(Ke,{children:e.subject}),a.jsx(Ke,{children:e.message}),a.jsx(Ke,{children:a.jsx(B,{variant:"pending"===e.status?"secondary":"resolved"===e.status?"default":"outline",children:e.status.replace("_"," ")})}),a.jsx(Ke,{children:new Date(e.created_at).toLocaleDateString()}),a.jsx(Ke,{children:a.jsxs("div",{className:"flex space-x-2",children:["resolved"!==e.status&&a.jsx(I,{size:"sm",onClick:()=>is(e.id,"resolved"),children:"Mark Resolved"}),"pending"===e.status&&a.jsx(I,{variant:"outline",size:"sm",onClick:()=>is(e.id,"in_progress"),children:"In Progress"}),a.jsxs(Cs,{children:[a.jsx(ks,{asChild:!0,children:a.jsx(I,{variant:"destructive",size:"sm",children:a.jsx(Fe,{className:"w-4 h-4"})})}),a.jsxs(As,{children:[a.jsxs(qs,{children:[a.jsx(Is,{children:"Delete Inquiry"}),a.jsx(Ps,{children:"Are you sure you want to delete this inquiry? This action cannot be undone."})]}),a.jsxs(Fs,{children:[a.jsx(Ms,{children:"Cancel"}),a.jsx(Rs,{onClick:()=>(async e=>{try{const{error:s}=await w.from("contact_inquiries").delete().eq("id",e);if(s)throw s;R({title:"Success",description:"Inquiry deleted successfully"}),He(),ze()}catch(s){R({title:"Error",description:"Failed to delete inquiry",variant:"destructive"})}})(e.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})})]},e.id))})]})})})]})}),"assistance"===t&&a.jsx("div",{className:"space-y-6",children:a.jsxs(D,{children:[a.jsx(E,{children:a.jsxs(A,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx($,{className:"w-5 h-5 mr-2"}),"Assistance Requests"]}),a.jsxs(H,{value:ke,onValueChange:Ee,children:[a.jsx(G,{className:"w-32",children:a.jsx(Y,{placeholder:"Filter by status"})}),a.jsxs(J,{children:[a.jsx(Q,{value:"all",children:"All"}),a.jsx(Q,{value:"pending",children:"Pending"}),a.jsx(Q,{value:"in_progress",children:"In Progress"}),a.jsx(Q,{value:"resolved",children:"Resolved"})]})]})]})}),a.jsx(q,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Je,{children:[a.jsx(Qe,{children:a.jsxs(Xe,{children:[a.jsx(Ze,{children:"Student"}),a.jsx(Ze,{children:"Request"}),a.jsx(Ze,{children:"Urgency"}),a.jsx(Ze,{children:"Status"}),a.jsx(Ze,{children:"Date"}),a.jsx(Ze,{children:"Actions"})]})}),a.jsx(We,{children:cs.map(e=>{var s,t;return a.jsxs(Xe,{children:[a.jsx(Ke,{children:a.jsxs(I,{variant:"link",className:"p-0 h-auto text-left",onClick:()=>{$e(e.student_id),Oe(!0)},children:[null==(s=e.profiles)?void 0:s.first_name," ",null==(t=e.profiles)?void 0:t.last_name]})}),a.jsx(Ke,{children:a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium",children:e.title}),a.jsx("div",{className:"text-muted-foreground",children:e.request_type})]})}),a.jsx(Ke,{children:a.jsx(B,{variant:"outline",children:e.urgency_level})}),a.jsx(Ke,{children:a.jsx(B,{variant:"pending"===e.status?"secondary":"resolved"===e.status?"default":"outline",children:e.status.replace("_"," ")})}),a.jsx(Ke,{children:new Date(e.created_at).toLocaleDateString()}),a.jsx(Ke,{children:a.jsxs("div",{className:"flex space-x-2",children:["resolved"!==e.status&&a.jsx(I,{size:"sm",onClick:()=>rs(e.id,"resolved"),children:"Resolve"}),"pending"===e.status&&a.jsx(I,{variant:"outline",size:"sm",onClick:()=>rs(e.id,"in_progress"),children:"In Progress"})]})})]},e.id)})})]})})})]})}),"finance"===t&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(D,{children:[a.jsx(E,{children:a.jsxs(A,{className:"flex items-center",children:[a.jsx(Se,{className:"w-5 h-5 mr-2"}),"Bank Transfer Details"]})}),a.jsxs(q,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(L,{children:"Bank Name"}),a.jsx(z,{value:Ae.bank_transfer_details.bank_name,onChange:e=>Re({...Ae,bank_transfer_details:{...Ae.bank_transfer_details,bank_name:e.target.value}}),placeholder:"Enter bank name"})]}),a.jsxs("div",{children:[a.jsx(L,{children:"Account Name"}),a.jsx(z,{value:Ae.bank_transfer_details.account_name,onChange:e=>Re({...Ae,bank_transfer_details:{...Ae.bank_transfer_details,account_name:e.target.value}}),placeholder:"Enter account name"})]}),a.jsxs("div",{children:[a.jsx(L,{children:"Account Number"}),a.jsx(z,{value:Ae.bank_transfer_details.account_number,onChange:e=>Re({...Ae,bank_transfer_details:{...Ae.bank_transfer_details,account_number:e.target.value}}),placeholder:"Enter account number"})]}),a.jsxs("div",{children:[a.jsx(L,{children:"SWIFT Code"}),a.jsx(z,{value:Ae.bank_transfer_details.swift_code,onChange:e=>Re({...Ae,bank_transfer_details:{...Ae.bank_transfer_details,swift_code:e.target.value}}),placeholder:"Enter SWIFT code"})]}),a.jsxs("div",{children:[a.jsx(L,{children:"UPI ID"}),a.jsx(z,{value:Ae.bank_transfer_details.upi_id,onChange:e=>Re({...Ae,bank_transfer_details:{...Ae.bank_transfer_details,upi_id:e.target.value}}),placeholder:"Enter UPI ID"})]})]}),a.jsx(I,{onClick:()=>ns("bank_transfer_details"),disabled:r,children:r?"Saving...":"Save Bank Details"})]})]}),a.jsxs(D,{children:[a.jsx(E,{children:a.jsxs(A,{className:"flex items-center",children:[a.jsx(Ce,{className:"w-5 h-5 mr-2"}),"Mobile Money Details"]})}),a.jsxs(q,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(L,{children:"Provider"}),a.jsx(z,{value:Ae.mobile_money_details.provider,onChange:e=>Re({...Ae,mobile_money_details:{...Ae.mobile_money_details,provider:e.target.value}}),placeholder:"Enter provider (e.g. MTN)"})]}),a.jsxs("div",{children:[a.jsx(L,{children:"Mobile Number"}),a.jsx(z,{value:Ae.mobile_money_details.number,onChange:e=>Re({...Ae,mobile_money_details:{...Ae.mobile_money_details,number:e.target.value}}),placeholder:"Enter mobile number"})]}),a.jsxs("div",{children:[a.jsx(L,{children:"Account Name"}),a.jsx(z,{value:Ae.mobile_money_details.name,onChange:e=>Re({...Ae,mobile_money_details:{...Ae.mobile_money_details,name:e.target.value}}),placeholder:"Enter account name"})]})]}),a.jsx(I,{onClick:()=>ns("mobile_money_details"),disabled:r,children:r?"Saving...":"Save Mobile Money Details"})]})]}),a.jsxs(D,{children:[a.jsx(E,{children:a.jsxs(A,{className:"flex items-center",children:[a.jsx(C,{className:"w-5 h-5 mr-2"}),"Contact Details"]})}),a.jsxs(q,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(L,{children:"Treasurer Name"}),a.jsx(z,{value:Ae.contact_details.treasurer_name,onChange:e=>Re({...Ae,contact_details:{...Ae.contact_details,treasurer_name:e.target.value}}),placeholder:"Enter treasurer name"})]}),a.jsxs("div",{children:[a.jsx(L,{children:"Treasurer Email"}),a.jsx(z,{type:"email",value:Ae.contact_details.treasurer_email,onChange:e=>Re({...Ae,contact_details:{...Ae.contact_details,treasurer_email:e.target.value}}),placeholder:"Enter treasurer email"})]}),a.jsxs("div",{children:[a.jsx(L,{children:"Treasurer Phone"}),a.jsx(z,{value:Ae.contact_details.treasurer_phone,onChange:e=>Re({...Ae,contact_details:{...Ae.contact_details,treasurer_phone:e.target.value}}),placeholder:"Enter treasurer phone"})]}),a.jsxs("div",{children:[a.jsx(L,{children:"Finance Email"}),a.jsx(z,{type:"email",value:Ae.contact_details.finance_email,onChange:e=>Re({...Ae,contact_details:{...Ae.contact_details,finance_email:e.target.value}}),placeholder:"Enter finance email"})]})]}),a.jsx(I,{onClick:()=>ns("contact_details"),disabled:r,children:r?"Saving...":"Save Contact Details"})]})]})]}),"gallery"===t&&a.jsx(zs,{}),"hero"===t&&a.jsx(Os,{}),"platform"===t&&a.jsx(Ts,{})]}),a.jsx($s,{studentId:Me,open:Ue,onClose:()=>{Oe(!1),$e(null)}})]})})}Ms.displayName=bs.displayName;export{Hs as default};
