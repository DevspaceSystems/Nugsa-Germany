import{j as e}from"./radix-ui-C_30fW44.js";import{r as s}from"./react-vendor-BPKX_lDx.js";import{c as t,u as r,s as a,t as l}from"./index-ZrmUALcR.js";import{I as i}from"./input-B4xn1GWc.js";import{L as n}from"./label-BNgmef9v.js";import{T as c}from"./textarea-DWvDu1as.js";import{S as d,a as o,b as m,c as u,d as x}from"./select-BgFOHVXi.js";import{B as h}from"./badge-DVt49irY.js";import{H as p}from"./heart-BhsGjJ8x.js";import{M as g}from"./message-circle-CRT3VB5N.js";import{C as j}from"./calendar-Dtp-binz.js";import"./supabase-bi29EmR8.js";import"./utils-DDMI54vX.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=t("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function y(){const{user:t}=r(),[y,b]=s.useState([]),[N,v]=s.useState(!0),[w,q]=s.useState(!1),[S,_]=s.useState({requestType:"",title:"",description:"",urgencyLevel:"medium"});s.useEffect(()=>{t&&L()},[t]);const L=async()=>{const{data:e,error:s}=await a.from("assistance_requests").select("*").eq("student_id",null==t?void 0:t.id).order("created_at",{ascending:!1});e&&!s&&b(e),v(!1)},T=e=>{const s={pending:"bg-yellow-100 text-yellow-800",under_review:"bg-blue-100 text-blue-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",resolved:"bg-gray-100 text-gray-800"};return s[e]||s.pending},C=e=>{const s={low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"};return s[e]||s.medium};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50/30 to-purple-50/30",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-12 text-center",children:e.jsxs("div",{className:"glass-effect rounded-2xl p-10 mb-8 floating-animation",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-xl",children:e.jsx(p,{className:"w-10 h-10 text-white"})})}),e.jsx("h1",{className:"text-5xl font-bold gradient-text mb-4",children:"Student Assistance"}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"We're here to support you through every challenge. Get financial and mental health assistance from NUGSA - Germany's caring community. Your success is our priority."}),e.jsxs("div",{className:"flex items-center justify-center gap-6 mt-8",children:[e.jsxs("div",{className:"flex items-center text-blue-600",children:[e.jsx(g,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"font-medium",children:"24/7 Support"})]}),e.jsxs("div",{className:"flex items-center text-purple-600",children:[e.jsx(p,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"font-medium",children:"Caring Community"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"neon-card p-8 pulse-glow",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-pink-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx(p,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold gradient-text mb-2",children:"Submit Assistance Request"}),e.jsx("p",{className:"text-muted-foreground",children:"Tell us how we can help you with your studies and wellbeing"})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),t){q(!0);try{const{error:e}=await a.from("assistance_requests").insert({student_id:t.id,request_type:S.requestType,title:S.title,description:S.description,urgency_level:S.urgencyLevel});e?l({title:"Error",description:"Failed to submit assistance request.",variant:"destructive"}):(l({title:"Request Submitted",description:"Your assistance request has been submitted successfully."}),_({requestType:"",title:"",description:"",urgencyLevel:"medium"}),L())}catch(s){l({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{q(!1)}}},className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"requestType",className:"text-sm font-medium text-foreground",children:"Type of Support"}),e.jsxs(d,{value:S.requestType,onValueChange:e=>_({...S,requestType:e}),children:[e.jsx(o,{className:"neon-input",children:e.jsx(m,{placeholder:"Select support type"})}),e.jsxs(u,{children:[e.jsx(x,{value:"mental",children:"âœ¨ General Support"}),e.jsx(x,{value:"financial",children:"ðŸŽ“ Courses Support"}),e.jsx(x,{value:"financial",children:"ðŸ’° Financial Support"}),e.jsx(x,{value:"mental",children:"ðŸ¥ Health Support"}),e.jsx(x,{value:"mental",children:"â¤ï¸â€ðŸ©¹ Mental Support"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"urgencyLevel",className:"text-sm font-medium text-foreground",children:"Urgency Level"}),e.jsxs(d,{value:S.urgencyLevel,onValueChange:e=>_({...S,urgencyLevel:e}),children:[e.jsx(o,{className:"neon-input",children:e.jsx(m,{})}),e.jsxs(u,{children:[e.jsx(x,{value:"low",children:"ðŸŸ¢ Low Priority"}),e.jsx(x,{value:"medium",children:"ðŸŸ¡ Medium Priority"}),e.jsx(x,{value:"high",children:"ðŸŸ  High Priority"}),e.jsx(x,{value:"critical",children:"ðŸ”´ Critical/Urgent"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"title",className:"text-sm font-medium text-foreground",children:"Request Title"}),e.jsx(i,{id:"title",placeholder:"Brief description of your request",value:S.title,onChange:e=>_({...S,title:e.target.value}),className:"neon-input",required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"description",className:"text-sm font-medium text-foreground",children:"Detailed Description"}),e.jsx(c,{id:"description",placeholder:"Please provide detailed information about your situation and how we can help...",value:S.description,onChange:e=>_({...S,description:e.target.value}),className:"neon-input",rows:6,required:!0})]}),e.jsx("button",{type:"submit",className:"neon-button w-full py-4 text-lg font-semibold",disabled:w,children:w?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Submitting Request..."]}):e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"w-5 h-5 mr-2"}),"Submit Request"]})})]})]}),e.jsxs("div",{className:"neon-card p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx(g,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold gradient-text mb-2",children:"Your Requests"}),e.jsx("p",{className:"text-muted-foreground",children:"Track the status of your assistance requests"})]}),N?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),e.jsx("p",{className:"text-muted-foreground mt-4 text-lg",children:"Loading your requests..."})]}):0===y.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(f,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:"No requests yet"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Submit your first assistance request to get started."})]}):e.jsx("div",{className:"space-y-6",children:y.map(s=>e.jsxs("div",{className:"glass-effect rounded-xl p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-foreground text-lg",children:s.title}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(h,{className:`${T(s.status)} px-3 py-1 text-xs font-medium`,children:s.status.replace("_"," ")}),e.jsx(h,{className:`${C(s.urgency_level)} px-3 py-1 text-xs font-medium`,children:s.urgency_level})]})]}),e.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-3 leading-relaxed",children:s.description}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-3",children:[e.jsx(j,{className:"w-4 h-4 mr-2 text-blue-500"}),e.jsx("span",{children:new Date(s.created_at).toLocaleDateString()}),e.jsx("span",{className:"mx-3",children:"â€¢"}),e.jsxs("span",{className:"capitalize font-medium",children:[s.request_type," support"]})]}),s.admin_notes&&e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsxs("p",{className:"font-semibold text-blue-800 mb-2 flex items-center",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Admin Response:"]}),e.jsx("p",{className:"text-blue-700",children:s.admin_notes})]})]},s.id))})]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600",children:"Please sign in to access assistance services."})]})})}export{y as default};
