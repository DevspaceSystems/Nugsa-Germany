import{j as e}from"./radix-ui-BhA1LbKn.js";import{r as s}from"./react-vendor-B1bUijmx.js";import{a,s as t,L as r,C as l,e as i,M as c,k as n,P as o,B as d,p as m}from"./index-CRPRT7Ob.js";import{B as x}from"./badge-BBGM62l1.js";import{A as h,a as p,b as j}from"./avatar-C7SJqqZD.js";import{B as u,S as g}from"./separator-DNMtkpko.js";import{I as f}from"./input-BBdXW6UI.js";import{S as N,a as b,b as v,c as w,d as y,C as _}from"./select-COfdfeGS.js";import{U as C}from"./users-IBbRgan4.js";import{S}from"./sparkles-lu-WCR9S.js";import{S as k}from"./search-B2AIdtL9.js";import{C as A}from"./calendar-B1DUrkPc.js";import{C as L}from"./clock-DBfzgY0x.js";import{A as G}from"./award-QkE7yiwx.js";import"./supabase-C_IPIGZD.js";import"./utils-DjG4pwKl.js";function $(){const[$,q]=s.useState([]),[E,z]=s.useState(!0),[B,F]=s.useState(""),[P,T]=s.useState("all"),[D,I]=s.useState(null),{t:M}=a("chapters");s.useEffect(()=>{R()},[]);const R=async()=>{try{z(!0);const{data:e,error:s}=await t.from("chapters").select("*").eq("is_active",!0).order("city",{ascending:!0});if(s)throw s;const a=await Promise.all((e||[]).map(async e=>{const[s,a]=await Promise.all([t.from("chapter_leaders").select("*").eq("chapter_id",e.id).eq("is_active",!0).order("order_priority",{ascending:!0}),t.from("chapter_activities").select("*").eq("chapter_id",e.id).order("date",{ascending:!1}).limit(5)]);return{...e,leaders:s.data||[],activities:a.data||[]}}));q(a)}catch(e){}finally{z(!1)}},U=$.filter(e=>{var s;const a=e.name.toLowerCase().includes(B.toLowerCase())||e.city.toLowerCase().includes(B.toLowerCase())||(null==(s=e.description)?void 0:s.toLowerCase().includes(B.toLowerCase())),t="all"===P||e.region===P;return a&&t}),V=Array.from(new Set($.map(e=>e.region))).sort(),W=e=>{const s={Cultural:"bg-purple-100 text-purple-700 border-purple-200",Academic:"bg-blue-100 text-blue-700 border-blue-200",Professional:"bg-green-100 text-green-700 border-green-200","Community Service":"bg-orange-100 text-orange-700 border-orange-200",Social:"bg-pink-100 text-pink-700 border-pink-200",General:"bg-gray-100 text-gray-700 border-gray-200"};return s[e]||s.General};return E?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(r,{size:"md",className:"mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading chapters..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-12",children:[e.jsxs("section",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-xl rounded-full"}),e.jsx(u,{className:"w-16 h-16 text-primary relative z-10"})]})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-primary tracking-tight",children:M("title")}),e.jsx("p",{className:"text-xl text-muted-foreground font-light max-w-3xl mx-auto",children:M("subtitle")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[e.jsx(l,{className:"border-none shadow-lg bg-gradient-to-br from-white to-blue-50/50",children:e.jsxs(i,{className:"p-6 text-center",children:[e.jsx(u,{className:"w-8 h-8 text-primary mx-auto mb-2"}),e.jsx("p",{className:"text-3xl font-bold text-primary",children:$.length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Chapters"})]})}),e.jsx(l,{className:"border-none shadow-lg bg-gradient-to-br from-white to-green-50/50",children:e.jsxs(i,{className:"p-6 text-center",children:[e.jsx(C,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[$.reduce((e,s)=>e+(s.member_count||0),0),"+"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Members"})]})}),e.jsx(l,{className:"border-none shadow-lg bg-gradient-to-br from-white to-purple-50/50",children:e.jsxs(i,{className:"p-6 text-center",children:[e.jsx(S,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:$.reduce((e,s)=>e+s.activities.length,0)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Recent Activities"})]})})]})]}),e.jsx("section",{className:"space-y-4",children:e.jsx(l,{children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(f,{placeholder:"Search chapters by name, city, or description...",value:B,onChange:e=>F(e.target.value),className:"pl-10"})]}),e.jsxs(N,{value:P,onValueChange:T,children:[e.jsx(b,{className:"w-full md:w-64",children:e.jsx(v,{placeholder:"Filter by region"})}),e.jsxs(w,{children:[e.jsx(y,{value:"all",children:"All Regions"}),V.map(s=>e.jsx(y,{value:s,children:s},s))]})]})]})})})}),e.jsx("section",{className:"space-y-6",children:U.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:U.map(s=>{const a=D===s.id;return e.jsxs(l,{className:"group hover:shadow-xl transition-all duration-300 border-primary/10 hover:border-primary/30 overflow-hidden",children:[e.jsxs("div",{className:"relative h-32 bg-gradient-to-r from-primary to-primary/80 overflow-hidden",children:[s.cover_image_url?e.jsx("img",{src:s.cover_image_url,alt:s.name,className:"w-full h-full object-cover opacity-30"}):e.jsx("div",{className:"absolute inset-0 bg-[url('/pattern.png')] opacity-10"}),e.jsxs("div",{className:"absolute bottom-4 left-6 flex items-center gap-4",children:[s.logo_url?e.jsx("img",{src:s.logo_url,alt:`${s.name} logo`,className:"w-16 h-16 rounded-full border-4 border-white shadow-lg bg-white"}):e.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-white shadow-lg bg-white flex items-center justify-center",children:e.jsx(u,{className:"w-8 h-8 text-primary"})}),e.jsxs("div",{className:"text-white",children:[e.jsx("h3",{className:"text-2xl font-bold",children:s.name}),e.jsxs("p",{className:"text-sm opacity-90 flex items-center gap-1",children:[e.jsx(c,{className:"w-3 h-3"}),s.city,", ",s.region]})]})]})]}),e.jsxs(i,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:s.description}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[s.member_count&&e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.member_count," members"]})]}),s.established_date&&e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsxs("span",{children:["Est. ",new Date(s.established_date).getFullYear()]})]})]}),s.meeting_schedule&&e.jsxs("div",{className:"flex items-start gap-2 text-sm bg-blue-50 p-3 rounded-lg",children:[e.jsx(L,{className:"w-4 h-4 text-blue-600 mt-0.5 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-blue-900",children:"Meeting Schedule"}),e.jsx("p",{className:"text-blue-700",children:s.meeting_schedule})]})]})]}),s.leaders.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Chapter Executives"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex -space-x-2",children:s.leaders.slice(0,4).map(s=>e.jsxs(h,{className:"border-2 border-white w-10 h-10",children:[e.jsx(p,{src:s.image_url||void 0}),e.jsx(j,{className:"bg-primary text-white text-xs",children:s.name.split(" ").map(e=>e[0]).join("")})]},s.id))}),s.leaders.length>4&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",s.leaders.length-4," more"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.contact_email&&e.jsxs("a",{href:`mailto:${s.contact_email}`,className:"flex items-center gap-1 text-xs text-primary hover:underline",children:[e.jsx(n,{className:"w-3 h-3"}),s.contact_email]}),s.contact_phone&&e.jsxs("a",{href:`tel:${s.contact_phone}`,className:"flex items-center gap-1 text-xs text-primary hover:underline",children:[e.jsx(o,{className:"w-3 h-3"}),s.contact_phone]})]}),e.jsx(g,{}),e.jsx(d,{variant:"ghost",onClick:()=>{return e=s.id,void I(D===e?null:e);var e},className:"w-full",children:a?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Show Less"]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"w-4 h-4 mr-2"}),"View Executives & Activities"]})}),a&&e.jsxs("div",{className:"space-y-6 pt-4 border-t",children:[s.leaders.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-primary"}),"Executive Team"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:s.leaders.map(s=>e.jsx(l,{className:"border",children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs(h,{className:"w-12 h-12",children:[e.jsx(p,{src:s.image_url||void 0}),e.jsx(j,{className:"bg-primary text-white",children:s.name.split(" ").map(e=>e[0]).join("")})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-sm",children:s.name}),e.jsx(x,{variant:"secondary",className:"text-xs mb-2",children:s.position}),s.bio&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:s.bio}),s.email&&e.jsxs("a",{href:`mailto:${s.email}`,className:"text-xs text-primary hover:underline flex items-center gap-1 mt-1",children:[e.jsx(n,{className:"w-3 h-3"}),"Contact"]})]})]})})},s.id))})]}),s.activities.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 text-primary"}),"Recent Activities"]}),e.jsx("div",{className:"space-y-2",children:s.activities.map(s=>{return e.jsx(l,{className:"border",children:e.jsx(i,{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between gap-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx("h5",{className:"font-semibold text-sm flex-1",children:s.title}),e.jsx(x,{variant:"outline",className:`text-xs ${W(s.category||"General")}`,children:s.category})]}),s.description&&e.jsx("p",{className:"text-xs text-muted-foreground mb-2 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"w-3 h-3"}),(a=s.date,new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))]}),s.location&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(c,{className:"w-3 h-3"}),s.location]}),s.attendees_count&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(C,{className:"w-3 h-3"}),s.attendees_count," attendees"]})]})]})})})},s.id);var a})})]})]})]})]},s.id)})}):e.jsx(l,{children:e.jsxs(i,{className:"p-12 text-center",children:[e.jsx(u,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No chapters found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or filter criteria"})]})})}),e.jsxs("section",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary to-primary/80 text-primary-foreground p-8 md:p-12 text-center space-y-6 shadow-xl",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('/pattern.png')] opacity-10"}),e.jsxs("div",{className:"relative z-10 space-y-4",children:[e.jsx(S,{className:"w-12 h-12 mx-auto text-yellow-300 animate-pulse"}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Want to Start a Chapter in Your City?"}),e.jsx("p",{className:"text-lg opacity-90 max-w-2xl mx-auto",children:"We're always looking to expand our presence across Germany. If you're interested in starting a NUGSA chapter in your city, we'd love to hear from you!"}),e.jsx(d,{size:"lg",variant:"secondary",className:"bg-white text-primary hover:bg-white/90 font-semibold",onClick:()=>window.location.href="/contact",children:"Get in Touch"})]})]})]})})}export{$ as default};
