import{j as e}from"./radix-ui-C_30fW44.js";import{r as a,u as s}from"./react-vendor-BPKX_lDx.js";import{C as r,a as t,b as l,e as i,d as n,B as o,U as c,M as d,s as m,t as u,u as g}from"./index-ZrmUALcR.js";import{u as h}from"./useUserProfile-DPyBKc_L.js";import{I as x}from"./input-B4xn1GWc.js";import{L as p}from"./label-BNgmef9v.js";import{T as y,a as b,b as f,c as j}from"./tabs-iH1deNJf.js";import{S as N,a as v,b as w,c as C,d as S}from"./select-BgFOHVXi.js";import{D as _}from"./react-datepicker-vODiH943.js";import{L as P}from"./loader-circle-B1a5cOLH.js";import{E as F,a as k,U as q}from"./upload-Bhq4sjmX.js";import{G as A}from"./graduation-cap-C7YPIDn9.js";import{H as O}from"./heart-BhsGjJ8x.js";import{B as E}from"./book-open-BEoycQnr.js";import{C as M}from"./chevron-left-DasbKTZk.js";import"./supabase-bi29EmR8.js";import"./utils-DDMI54vX.js";function D(){const[s,g]=a.useState(!1),[h,D]=a.useState(!1),[U,B]=a.useState(""),[I,R]=a.useState(!1),[Y,G]=a.useState("signin"),[L,$]=a.useState(!1),[T,V]=a.useState(1),[W,H]=a.useState({email:"",password:"",firstName:"",lastName:"",gender:"",maritalStatus:"",dateOfBirth:null,ghanaMobileNumber:"",whatsappNumber:"",linkedinUrl:"",levelOfStudy:"",university:"",major:"",yearOfEnrollment:"",expectedCompletionYear:"",yearOfStudy:"",graduationYear:"",germanyAddress:"",germanyCity:"",germanyState:"",germanyPincode:"",germanyPhone:"",ghanaAddress:"",ghanaCity:"",ghanaRegion:"",ghanaPincode:"",currentStreet:"",currentCity:"",currentState:"",currentPostalCode:"",permanentStreet:"",permanentCity:"",permanentState:"",permanentPostalCode:"",sameAsCurrentAddress:!1,emergencyContactName:"",emergencyContactRelationship:"",emergencyContactNumber:"",phone:"",hometown:"",bio:""}),[z,J]=a.useState({passport:null,profilePicture:null}),K=(e,a)=>{H({...W,[e]:a})},Q=(e,a)=>{J({...z,[e]:a})},X=async(e,a,s)=>{const{data:r,error:t}=await m.storage.from(a).upload(s,e);if(t)throw t;const{data:l}=m.storage.from(a).getPublicUrl(s);return l.publicUrl};a.useEffect(()=>{let e=!1;switch(T){case 1:e=""!==W.firstName.trim()&&""!==W.lastName.trim()&&""!==W.email.trim()&&""!==W.password.trim()&&W.password.length>=6;break;case 2:e=""!==W.gender.trim()&&""!==W.maritalStatus.trim()&&null!==W.dateOfBirth&&""!==W.germanyPhone.trim()&&""!==W.ghanaMobileNumber.trim()&&""!==W.whatsappNumber.trim()&&""!==W.linkedinUrl.trim();break;case 3:e=""!==W.levelOfStudy.trim()&&""!==W.university.trim()&&""!==W.major.trim()&&""!==W.yearOfEnrollment.trim()&&""!==W.expectedCompletionYear.trim()&&""!==W.yearOfStudy.trim();break;case 4:e=""!==W.germanyAddress.trim()&&""!==W.germanyCity.trim()&&""!==W.germanyState.trim()&&""!==W.germanyPincode.trim()&&""!==W.ghanaAddress.trim()&&""!==W.ghanaCity.trim()&&""!==W.ghanaRegion.trim()&&""!==W.ghanaPincode.trim();break;case 5:e=""!==W.emergencyContactName.trim()&&""!==W.emergencyContactRelationship.trim()&&""!==W.emergencyContactNumber.trim()&&""!==W.bio.trim();break;default:e=!1}$(e)},[T,W]);const Z=async e=>{e.preventDefault(),g(!0);try{const{error:e}=await m.auth.resetPasswordForEmail(U,{redirectTo:`${window.location.origin}/auth/callback`});e?u({title:"Error",description:e.message,variant:"destructive"}):(u({title:"Reset link sent!",description:"Check your email for the password reset link."}),D(!1),B(""))}catch(a){u({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{g(!1)}};return h?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:e.jsxs(r,{className:"w-full max-w-md border border-gray-200 shadow-sm",children:[e.jsxs(t,{className:"text-center space-y-2",children:[e.jsx("div",{className:"mx-auto mb-2",children:e.jsx("img",{src:"/icon.png",alt:"NUGSA Logo",className:"w-16 h-16 mx-auto"})}),e.jsx(l,{className:"text-xl font-semibold text-gray-900",children:"Reset password"}),e.jsx(i,{className:"text-gray-600",children:"Enter your email to receive a reset link"})]}),e.jsx(n,{children:e.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"forgotEmail",className:"text-sm font-medium text-gray-700",children:"Email"}),e.jsx(x,{id:"forgotEmail",type:"email",placeholder:"your.email@example.com",value:U,onChange:e=>B(e.target.value),required:!0,className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs(o,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium",disabled:s,children:[s&&e.jsx(P,{className:"mr-2 h-4 w-4 animate-spin"}),"Send reset link"]}),e.jsx(o,{type:"button",variant:"ghost",className:"w-full text-gray-600 hover:text-gray-800",onClick:()=>D(!1),children:"Back to sign in"})]})})]})}):e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-4xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("img",{src:"/icon.png",alt:"NUGSA Logo",className:"w-20 h-20 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"NUGSA - Germany Student Platform"}),e.jsx("p",{className:"text-gray-600",children:"Connect with Ghanaian students in Germany"})]}),e.jsxs(r,{className:"border border-gray-200 shadow-sm",children:[e.jsx(t,{className:"border-b border-gray-200 pb-4",children:e.jsx(y,{value:Y,onValueChange:G,className:"w-full",children:e.jsxs(b,{className:"grid w-full grid-cols-2 bg-transparent p-0",children:[e.jsx(f,{value:"signin",className:"data-[state=active]:bg-transparent data-[state=active]:text-blue-600 data-[state=active]:border-b-2 data-[state=active]:border-blue-600 rounded-none border-b-2 border-transparent py-3 text-gray-600 data-[state=active]:font-semibold",children:"Sign in"}),e.jsx(f,{value:"signup",className:"data-[state=active]:bg-transparent data-[state=active]:text-blue-600 data-[state=active]:border-b-2 data-[state=active]:border-blue-600 rounded-none border-b-2 border-transparent py-3 text-gray-600 data-[state=active]:font-semibold",children:"Sign up"})]})})}),e.jsx(n,{className:"pt-6",children:e.jsxs(y,{value:Y,className:"w-full",children:[e.jsxs(j,{value:"signin",className:"space-y-4 m-0",children:[e.jsxs("form",{onSubmit:async e=>{var a,s,r,t;e.preventDefault(),g(!0);try{const{data:e,error:l}=await m.auth.signInWithPassword({email:W.email,password:W.password});if(l){let e=l.message;(null==(a=l.message)?void 0:a.includes("email"))||(null==(s=l.message)?void 0:s.includes("Email"))?e="Please check your email and confirm your account before signing in.":(null==(r=l.message)?void 0:r.includes("password"))||(null==(t=l.message)?void 0:t.includes("Password"))?e="Invalid email or password. Please try again.":400===l.status&&(e="Please confirm your email address before signing in. Check your inbox for the confirmation link."),u({title:"Sign in failed",description:e,variant:"destructive"})}else u({title:"Welcome back!",description:"You have successfully signed in."})}catch(l){u({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{g(!1)}},className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"signin-email",className:"text-sm font-medium text-gray-700",children:"Email"}),e.jsx(x,{id:"signin-email",type:"email",placeholder:"your.email@example.com",value:W.email,onChange:e=>K("email",e.target.value),required:!0,className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(p,{htmlFor:"signin-password",className:"text-sm font-medium text-gray-700",children:"Password"}),e.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-800",onClick:()=>D(!0),children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{id:"signin-password",type:I?"text":"password",value:W.password,onChange:e=>K("password",e.target.value),required:!0,className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>R(!I),children:I?e.jsx(F,{className:"w-4 h-4"}):e.jsx(k,{className:"w-4 h-4"})})]})]}),e.jsxs(o,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium",disabled:s,children:[s&&e.jsx(P,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign in"]})]}),e.jsxs("div",{className:"text-center text-sm text-gray-600",children:["No account?"," ",e.jsx("button",{type:"button",className:"text-blue-600 hover:text-blue-800 font-medium",onClick:()=>G("signup"),children:"Create one!"})]})]}),e.jsx(j,{value:"signup",className:"m-0",children:e.jsxs("form",{onSubmit:async e=>{var a;e.preventDefault(),g(!0);try{const{data:e,error:r}=await m.from("platform_settings").select("setting_value").eq("setting_key","allow_registrations").single();if(!r&&e){if(!(!0===e.setting_value||"true"===e.setting_value))return u({title:"Registrations Disabled",description:"New user registrations are currently disabled. Please contact the administrator.",variant:"destructive"}),void g(!1)}const{data:t,error:l}=await m.auth.signUp({email:W.email,password:W.password});if(l)throw l;if(!t.user)throw new Error("No user data returned");if(!t.session){await new Promise(e=>setTimeout(e,1e3));const{data:{session:e}}=await m.auth.getSession()}const i={id:t.user.id,email:W.email,first_name:W.firstName,last_name:W.lastName,phone:W.phone,gender:W.gender,marital_status:W.maritalStatus,date_of_birth:null==(a=W.dateOfBirth)?void 0:a.toISOString().split("T")[0],ghana_mobile_number:W.ghanaMobileNumber,whatsapp_number:W.whatsappNumber,linkedin_url:W.linkedinUrl,level_of_study:W.levelOfStudy,university:W.university,major:W.major,year_of_enrollment:W.yearOfEnrollment?parseInt(W.yearOfEnrollment):null,expected_completion_year:W.expectedCompletionYear?parseInt(W.expectedCompletionYear):null,year_of_study:W.yearOfStudy?parseInt(W.yearOfStudy):null,graduation_year:W.graduationYear?parseInt(W.graduationYear):null,germany_phone:W.germanyPhone,germany_state:W.germanyState,germany_city:W.germanyCity,germany_address:W.germanyAddress,germany_pincode:W.germanyPincode,ghana_pincode:W.ghanaPincode,ghana_region:W.ghanaRegion,ghana_address:W.ghanaAddress,ghana_city:W.ghanaCity,hometown:W.hometown,current_address_street:W.currentStreet,current_address_city:W.currentCity,current_address_state:W.currentState,current_address_postal_code:W.currentPostalCode,permanent_address_street:W.permanentStreet,permanent_address_city:W.permanentCity,permanent_address_state:W.permanentState,permanent_address_postal_code:W.permanentPostalCode,same_as_current_address:W.sameAsCurrentAddress,emergency_contact_name:W.emergencyContactName,emergency_contact_relationship:W.emergencyContactRelationship,emergency_contact_number:W.emergencyContactNumber,bio:W.bio,is_profile_complete:!0,updated_at:(new Date).toISOString()};let n="",o="";if(t.session&&z.passport)try{const e=`${t.user.id}/passport_${Date.now()}.${z.passport.name.split(".").pop()}`;n=await X(z.passport,"documents",e),i.passport_document_url=n}catch(s){}if(t.session&&z.profilePicture)try{const e=`${t.user.id}/profile_${Date.now()}.${z.profilePicture.name.split(".").pop()}`;o=await X(z.profilePicture,"profile-pictures",e),i.profile_image_url=o}catch(s){}const c={};Object.keys(i).forEach(e=>{const a=i[e];null!=a&&""!==a&&(c[e]=a)});const{data:d,error:h}=await m.rpc("upsert_user_profile",{profile_data:c});u({title:"Sign up successful!",description:t.session?"Your account has been created with complete profile.":"Please check your email to confirm your account before signing in."}),G("signin"),V(1)}catch(r){u({title:"Sign up failed",description:r.message,variant:"destructive"})}finally{g(!1)}},className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",T," of ",5]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(T/5*100),"% complete"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:T/5*100+"%"}})})]}),1===T&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(c,{className:"w-5 h-5"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"firstName",className:"text-sm font-medium text-gray-700",children:"First name *"}),e.jsx(x,{id:"firstName",value:W.firstName,onChange:e=>K("firstName",e.target.value),required:!0,className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"lastName",className:"text-sm font-medium text-gray-700",children:"Last name *"}),e.jsx(x,{id:"lastName",value:W.lastName,onChange:e=>K("lastName",e.target.value),required:!0,className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"signup-email",className:"text-sm font-medium text-gray-700",children:"Email *"}),e.jsx(x,{id:"signup-email",type:"email",placeholder:"your.email@example.com",value:W.email,onChange:e=>K("email",e.target.value),required:!0,className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"signup-password",className:"text-sm font-medium text-gray-700",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{id:"signup-password",type:I?"text":"password",value:W.password,onChange:e=>K("password",e.target.value),required:!0,className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>R(!I),children:I?e.jsx(F,{className:"w-4 h-4"}):e.jsx(k,{className:"w-4 h-4"})})]})]})]})]}),2===T&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(c,{className:"w-5 h-5"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"gender",className:"text-sm font-medium text-gray-700",children:"Gender *"}),e.jsxs(N,{value:W.gender,onValueChange:e=>K("gender",e),required:!0,children:[e.jsx(v,{className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:e.jsx(w,{placeholder:"Select gender"})}),e.jsxs(C,{children:[e.jsx(S,{value:"Male",children:"Male"}),e.jsx(S,{value:"Female",children:"Female"}),e.jsx(S,{value:"Other",children:"Other"}),e.jsx(S,{value:"Prefer not to say",children:"Prefer not to say"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"maritalStatus",className:"text-sm font-medium text-gray-700",children:"Marital status *"}),e.jsxs(N,{value:W.maritalStatus,onValueChange:e=>K("maritalStatus",e),required:!0,children:[e.jsx(v,{className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:e.jsx(w,{placeholder:"Select status"})}),e.jsxs(C,{children:[e.jsx(S,{value:"Single",children:"Single"}),e.jsx(S,{value:"Married",children:"Married"}),e.jsx(S,{value:"Divorced",children:"Divorced"}),e.jsx(S,{value:"Widowed",children:"Widowed"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{className:"text-sm font-medium text-gray-700",children:"Date of birth *"}),e.jsx(_,{selected:W.dateOfBirth,onChange:e=>K("dateOfBirth",e),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500",placeholderText:"Select date",showYearDropdown:!0,scrollableYearDropdown:!0,yearDropdownItemNumber:50,dateFormat:"MM/dd/yyyy",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"germanyPhone",className:"text-sm font-medium text-gray-700",children:"Germany phone *"}),e.jsx(x,{id:"germanyPhone",value:W.germanyPhone,onChange:e=>K("germanyPhone",e.target.value),placeholder:"+49 1512 3456789",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"ghanaMobileNumber",className:"text-sm font-medium text-gray-700",children:"Ghana mobile *"}),e.jsx(x,{id:"ghanaMobileNumber",placeholder:"+233 24 123 4567",value:W.ghanaMobileNumber,onChange:e=>K("ghanaMobileNumber",e.target.value),className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"whatsappNumber",className:"text-sm font-medium text-gray-700",children:"WhatsApp number *"}),e.jsx(x,{id:"whatsappNumber",value:W.whatsappNumber,onChange:e=>K("whatsappNumber",e.target.value),placeholder:"+233 24 123 4567",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"linkedinUrl",className:"text-sm font-medium text-gray-700",children:"LinkedIn URL *"}),e.jsx(x,{id:"linkedinUrl",value:W.linkedinUrl,onChange:e=>K("linkedinUrl",e.target.value),placeholder:"https://linkedin.com/in/yourprofile",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]})]})]}),3===T&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5"}),"Academic Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"levelOfStudy",className:"text-sm font-medium text-gray-700",children:"Level of study *"}),e.jsxs(N,{value:W.levelOfStudy,onValueChange:e=>K("levelOfStudy",e),required:!0,children:[e.jsx(v,{className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:e.jsx(w,{placeholder:"Select level"})}),e.jsxs(C,{children:[e.jsx(S,{value:"Diploma",children:"Diploma"}),e.jsx(S,{value:"Bachelor's",children:"Bachelor's"}),e.jsx(S,{value:"Master's",children:"Master's"}),e.jsx(S,{value:"PhD",children:"PhD"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"university",className:"text-sm font-medium text-gray-700",children:"University/Institution *"}),e.jsx(x,{id:"university",placeholder:"e.g., Humboldt University of Berlin",value:W.university,onChange:e=>K("university",e.target.value),className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"major",className:"text-sm font-medium text-gray-700",children:"Major/Course *"}),e.jsx(x,{id:"major",placeholder:"e.g., Computer Science",value:W.major,onChange:e=>K("major",e.target.value),className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"yearOfEnrollment",className:"text-sm font-medium text-gray-700",children:"Enrollment year *"}),e.jsx(x,{id:"yearOfEnrollment",type:"number",placeholder:"2023",value:W.yearOfEnrollment,onChange:e=>K("yearOfEnrollment",e.target.value),className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"expectedCompletionYear",className:"text-sm font-medium text-gray-700",children:"Completion year *"}),e.jsx(x,{id:"expectedCompletionYear",type:"number",placeholder:"2027",value:W.expectedCompletionYear,onChange:e=>K("expectedCompletionYear",e.target.value),className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"yearOfStudy",className:"text-sm font-medium text-gray-700",children:"Current year *"}),e.jsxs(N,{value:W.yearOfStudy,onValueChange:e=>K("yearOfStudy",e),required:!0,children:[e.jsx(v,{className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:e.jsx(w,{placeholder:"Select year"})}),e.jsx(C,{children:[1,2,3,4,5,6,7,8,9,10].map(a=>e.jsxs(S,{value:a.toString(),children:[a," Year"]},a))})]})]})]})]}),4===T&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(d,{className:"w-5 h-5"}),"Address Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-700",children:"German Address *"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"germanyAddress",className:"text-sm font-medium text-gray-700",children:"Street address *"}),e.jsx(x,{id:"germanyAddress",value:W.germanyAddress,onChange:e=>K("germanyAddress",e.target.value),placeholder:"123 Main Street",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"germanyCity",className:"text-sm font-medium text-gray-700",children:"City *"}),e.jsx(x,{id:"germanyCity",value:W.germanyCity,onChange:e=>K("germanyCity",e.target.value),placeholder:"Berlin",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"germanyState",className:"text-sm font-medium text-gray-700",children:"State *"}),e.jsx(x,{id:"germanyState",value:W.germanyState,onChange:e=>K("germanyState",e.target.value),placeholder:"Berlin",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"germanyPincode",className:"text-sm font-medium text-gray-700",children:"Postal code *"}),e.jsx(x,{id:"germanyPincode",value:W.germanyPincode,onChange:e=>K("germanyPincode",e.target.value),placeholder:"10115",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-700",children:"Ghanaian Address *"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"ghanaAddress",className:"text-sm font-medium text-gray-700",children:"Street address *"}),e.jsx(x,{id:"ghanaAddress",value:W.ghanaAddress,onChange:e=>K("ghanaAddress",e.target.value),placeholder:"123 Main Street",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"ghanaCity",className:"text-sm font-medium text-gray-700",children:"City *"}),e.jsx(x,{id:"ghanaCity",value:W.ghanaCity,onChange:e=>K("ghanaCity",e.target.value),placeholder:"Accra",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"ghanaRegion",className:"text-sm font-medium text-gray-700",children:"State/Region *"}),e.jsx(x,{id:"ghanaRegion",value:W.ghanaRegion,onChange:e=>K("ghanaRegion",e.target.value),placeholder:"Greater Accra",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"ghanaPincode",className:"text-sm font-medium text-gray-700",children:"Postal code *"}),e.jsx(x,{id:"ghanaPincode",value:W.ghanaPincode,onChange:e=>K("ghanaPincode",e.target.value),placeholder:"GA-123-4567",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"hometown",className:"text-sm font-medium text-gray-700",children:"Hometown *"}),e.jsx(x,{id:"hometown",value:W.hometown,onChange:e=>K("hometown",e.target.value),placeholder:"Your hometown in Ghana",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),5===T&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(O,{className:"w-5 h-5"}),"Emergency Contact"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"emergencyContactName",className:"text-sm font-medium text-gray-700",children:"Full name *"}),e.jsx(x,{id:"emergencyContactName",value:W.emergencyContactName,onChange:e=>K("emergencyContactName",e.target.value),placeholder:"John Doe",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"emergencyContactRelationship",className:"text-sm font-medium text-gray-700",children:"Relationship *"}),e.jsx(x,{id:"emergencyContactRelationship",placeholder:"e.g., Parent, Sibling",value:W.emergencyContactRelationship,onChange:e=>K("emergencyContactRelationship",e.target.value),className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"emergencyContactNumber",className:"text-sm font-medium text-gray-700",children:"Contact number *"}),e.jsx(x,{id:"emergencyContactNumber",placeholder:"+233 24 123 4567",value:W.emergencyContactNumber,onChange:e=>K("emergencyContactNumber",e.target.value),className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(E,{className:"w-5 h-5"}),"About Me"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"bio",className:"text-sm font-medium text-gray-700",children:"Bio *"}),e.jsx("textarea",{id:"bio",value:W.bio,onChange:e=>K("bio",e.target.value),placeholder:"Tell us about yourself...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 resize-none",required:!0})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5"}),"Document Uploads"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"passport",className:"text-sm font-medium text-gray-700",children:"Passport (PDF/Image, max 2MB)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{id:"passport",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>{var a;return Q("passport",(null==(a=e.target.files)?void 0:a[0])||null)},className:"hidden"}),e.jsxs(o,{type:"button",variant:"outline",onClick:()=>{var e;return null==(e=document.getElementById("passport"))?void 0:e.click()},className:"w-full border-gray-300 hover:bg-gray-50",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),z.passport?z.passport.name:"Upload Passport"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"profilePicture",className:"text-sm font-medium text-gray-700",children:"Profile picture (Image, max 1MB)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{id:"profilePicture",type:"file",accept:".jpg,.jpeg,.png",onChange:e=>{var a;return Q("profilePicture",(null==(a=e.target.files)?void 0:a[0])||null)},className:"hidden"}),e.jsxs(o,{type:"button",variant:"outline",onClick:()=>{var e;return null==(e=document.getElementById("profilePicture"))?void 0:e.click()},className:"w-full border-gray-300 hover:bg-gray-50",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),z.profilePicture?z.profilePicture.name:"Upload Photo"]})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[T>1?e.jsxs(o,{type:"button",variant:"outline",onClick:()=>{T>1&&V(T-1)},className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Previous"]}):e.jsx("div",{}),T<5?e.jsxs(o,{type:"button",onClick:()=>{T<5&&V(T+1)},className:"bg-blue-600 hover:bg-blue-700 text-white",disabled:!L,children:["Next",e.jsx(M,{className:"w-4 h-4 ml-2 rotate-180"})]}):e.jsxs(o,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium",disabled:s||!L,children:[s&&e.jsx(P,{className:"mr-2 h-4 w-4 animate-spin"}),"Create account"]})]})]})})]})})]})]})})}function U(){return e.jsx(D,{})}function B(){const{user:r}=g(),{profile:t,isLoading:l}=h(),i=s();return a.useEffect(()=>{r&&!l&&t&&("admin"===t.role&&t.is_verified?i("/admin-dashboard"):i("/dashboard"))},[r,t,l,i]),r&&l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 flex items-center justify-center",children:e.jsx("div",{className:"text-white",children:"Loading..."})}):e.jsx(U,{})}export{B as default};
